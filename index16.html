<!DOCTYPE html>
<html lang="en">
<head>
        <title>charlesreid1</title>
        <meta charset="utf-8" />

        <!--
        CSS styles
        -->
        <link href="https://charlesreid1.github.io/theme/css/bootstrap.css"       rel="stylesheet" type="text/css">
        <link href="https://charlesreid1.github.io/theme/css/slate.css"              rel="stylesheet" type="text/css">
        <link href="https://charlesreid1.github.io/theme/css/font-awesome.css"       rel="stylesheet" type="text/css"/>
        <link href="https://charlesreid1.github.io/theme/css/pygment-solarized.css"  rel="stylesheet" type="text/css"/>

        <!--
        my CSS styles
        -->
        <link href="https://charlesreid1.github.io/theme/css/main.css"            rel="stylesheet" type="text/css">
        <link href="https://charlesreid1.github.io/theme/css/dox.css"             rel="stylesheet" type="text/css">


        <!--
        include Angular first
        -->
        <script type="text/javascript" src="https://charlesreid1.github.io/theme/js/angular-1.3.15.js"></script>
        <script type="text/javascript" src="https://charlesreid1.github.io/theme/js/skrollr-0.6.29.js"></script>
        <script type="text/javascript" src="https://charlesreid1.github.io/theme/js/d3-3.5.5.js"></script>

        <!--
        this seems like a bad idea.
        but if I don't put jquery first, I get errors about unrecognized $s.
        -->
        <script type="text/javascript" src="https://charlesreid1.github.io/theme/js/jquery-1.11.2.js"></script>

</head>
<body id="index">
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span> 
            </button>
            <a href="https://charlesreid1.github.io" class="navbar-brand">charlesreid1.github.io</a>
        </div>
        <div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">

                    <li>
                        <a href="https://charlesreid1.com/wiki">Wiki</a>
                    </li>
                    <li>
                        <a href="https://git.charlesreid1.com/explore">Git</a>
                    </li>
                    <li>
                        <a href="http://spotify.charlesreid1.com">Music</a>
                    </li>
                    <li>
                        <a href="https://charlesreid1.com/life">Life</a>
                    </li>
                    <li>
                        <a href="https://charlesreid1.github.io">Blog</a>
                    </li>
                    <li>
                        <a href="https://charlesreid1.com/about">About Me</a>
                    </li>

                </ul>
            </div>
        </div>
    </div>
</nav>



<div class="container">

    <div class="row">
        <div class="col-md-12 col-centered" style="text-align: center;">
            <div class="v50"></div>
            <div class="cosmojumbo">
                <h1 class="jumbojumbo">charlesreid1.com blog<h1>
            </div>
        </div>
    </div>


    <div class="v50"></div>


    <div class="row">

        <div class="col-md-8" style="text-align: center;">

  	            	<article>
<header>
<div class="row">


    <div class="col-md-12">
        <div class="headtext" style="text-align: center;">
            <h1><b>
                Computing Square Roots: Part 2: Using Continued Fractions
            </b></h1>
        
            <p class="lead">
                Posted 
                <time datetime="2017-07-14T20:00:00-07:00" pubdate>Friday 07/14/2017</time>
                in 
                <a href="https://charlesreid1.github.io/category/mathematics.html">Mathematics</a>
                </p>
            <p>
            <span style="font-size: 14px">
                <a href="https://charlesreid1.github.io/computing-square-roots-part-2-using-continued-fractions.html">permalink</a>
            </span>
            </p>
        </div>

    </div>

</div>
</header>


<div class="v50"></div>


<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="entry-content"><h2>Table of Contents</h2>
<ul>
<li><a href="#cf-number-systems">Number Systems and Representations</a></li>
<li><a href="#cf-cf">Continued Fraction Representations</a></li>
<li><a href="#cf-convergents">Convergents of Continued Fractions</a></li>
<li><a href="#cf-example-coeffs">Example: Continued Fraction Coefficients of <span class="math">\(\sqrt{14}\)</span></a></li>
<li><a href="#cf-example-convergents">Example: Convergents of <span class="math">\(\sqrt{14}\)</span></a></li>
<li><a href="#cf-sqrt-approx">Approximating Square Roots</a></li>
</ul>
<p><a name="cf-number-systems"></a></p>
<h2>Continued Fractions</h2>
<p>Let's start part 2 of our discussion of computing square roots by talking about 
continued fractions. When we first learn mathematics, we learn to count in the 
base 10 system: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9. We can construct representations of 
all of the integers using these 10 digits, by arranging them in a different order.
So, for example, saying 125 is equivalent to saying:</p>
<div class="math">$$
125 = 1 \times 10^2 + 2 \times 10^1 + 5 \times 10^0
$$</div>
<p>Later on in our mathematical lives, we learn that we can use other integers
as our base, or <strong>radix</strong>, by expressing every integer as the sum of various 
powers of that integer. For example, 125
can be decomposed into powers of 2. In a base 2 system, we have only two symbols,
0 and 1, so 125 can be represented as 1111101, which is equivalent to saying:</p>
<div class="math">$$
125 = 1 \times 2^6 + 1 \times 2^5 + 1 \times 2^4 + 1 \times 2^3 + 1 \times 2^2 + 1 \times 2
$$</div>
<p>Note that 1111101 is close to 1111111, which is <span class="math">\(2^7 = 128\)</span>.</p>
<p>As Knuth points out in his <u>Art of Computer Programming</u>, Part II:</p>
<blockquote>
<i>"If our ancestors had invented arithmetic by counting with their two fists
or their eight fingers, instead of their ten "digits," we would never have to 
worry about writing binary-decimal conversion routines. (And we would perhaps
never have learned as much about number systems.)
</i>
</blockquote>

<p>This idea of an alternative radix to the traditional base 10 leads to entirely new 
number systems with their own interesting properties. However, it goes even further - 
as a high school student in 1955, Donald Knuth invented a number system with an
imaginary, 4-symbol radix in base <span class="math">\(2i\)</span> (where <span class="math">\(i = \sqrt{-1}\)</span>), called 
the <a href="https://en.wikipedia.org/wiki/Quater-imaginary_base">quater-imaginary base</a>.</p>
<p>There are also number systems that use an irrational radix, such as 
<a href="https://en.wikipedia.org/wiki/Golden_ratio_base">phinary</a>, which uses the golden ratio
as its radix. Thus, the Golden Ratio <span class="math">\(\phi = \dfrac{1 + \sqrt{5}}{2}\)</span> becomes <span class="math">\(\phi = 1\)</span>,
<span class="math">\(2 = \phi^1 + \phi^-2\)</span> becomes <span class="math">\(2 = 10.01\)</span>, <span class="math">\(5 = \phi^3 + \phi^{-1} + \phi^{-4}\)</span> 
becomes <span class="math">\(5 = 1000.1001\)</span>, and so on. In the case of the irrational number <span class="math">\(\sqrt{5}\)</span>, 
this number becomes a rational number in base <span class="math">\(\phi\)</span>: <span class="math">\(\sqrt{5} = \phi^2 + \phi^{-1}\)</span> 
becomes <span class="math">\(\sqrt{5} = 10.1\)</span>.</p>
<p>The single central idea behind these number systems is that the abstract 
set of integers <span class="math">\(\mathbb{Z}\)</span> are being represented on an <a href="https://en.wikipedia.org/wiki/Ring_(algebra)">algebraic ring</a>,
which is a fundamental mathematical object. Initially the idea of a ring
may seem strange, but it creates the foundations of modern number theory.</p>
<p><a name="cf-cf"></a></p>
<h2>Continued Fraction Representations</h2>
<p>(Note that while the next two sections will have a lot of "magic numbers," we will
step through the procedure in the following sections, and it will be more clear
where these numbers come from. There is also an excellent continued fractions calculator
available online <a href="http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/cfCALC.html">here</a>.)</p>
<p>We can use other kinds of mathematical objects to represent different numbers.
Another technique is to use continued fractions to represent numbers.
These are well-studied mathematical objects that date back to Euclid's <u>Elements</u>.
The basic idea is to create a recursive expression that involves fractions nested
beneath other fractions:</p>
<div class="math">$$
a_0+\cfrac{1}{a_1 +\cfrac{1}{a_2 +\cfrac{1}{
      \begin{array}{@{}c@{}c@{}c@{}}
        a_3 + {}\\ &amp;\ddots\\ &amp;&amp;{}+ \cfrac{1}{a_n}
      \end{array}
}}}
$$</div>
<p>For ease of writing, this is often written as:</p>
<div class="math">$$
a_0 + \dfrac{1}{a_1 +} \quad \dfrac{1}{a_2 +} \quad \dfrac{1}{a_3 + } \quad \dots \quad \dfrac{1}{a_{n-1} + } \quad \dfrac{1}{a_n}
$$</div>
<p>or, even shorter,</p>
<div class="math">$$
[a_0; a_1, a_2, a_3, \dots]
$$</div>
<p>These variables <span class="math">\(a_i\)</span> are called the <em>terms</em> of the continued fraction.
Continued fractions can be used to represent rational numbers, in which case the continued fraction
representation terminates after a finite number of terms. For example, <span class="math">\(\dfrac{125}{3} = [41; 1, 2]\)</span>, </p>
<div class="math">$$
\dfrac{125}{3} = 41 +\cfrac{1}{1 +\cfrac{1}{2}} 
$$</div>
<p>Continued fractions can also be used to represent irrational numbers, 
in which case the continued fraction representation is a repeating pattern
of variable length. For example, <span class="math">\(\sqrt{14} = [3; \overline{1,2,1,6}]\)</span>, where
the line over the last digits indicates that the pattern repeats infinitely as
<span class="math">\(1, 2, 1, 6, 1, 2, 1, 6, 1, 2, 1, 6, \dots\)</span>:</p>
<div class="math">$$
3 + \cfrac{1}{
    1 + \cfrac{1}{
        2+\cfrac{1}{
            1+\cfrac{1}{
                6+\cfrac{1}{
                    \begin{array}{@{}c@{}c@{}c@{}}
                        1 + {}\\ &amp;\ddots\\ &amp;&amp;{}
                    \end{array}
                }
            }
        }
    }
}
$$</div>
<p>A few useful properties of these patterns, for square roots, are:</p>
<ul>
<li>
<p>First, the integer portion (3 in the case above) is the largest integer 
    whose square is less than the number (14).</p>
</li>
<li>
<p>Second, the sequence of integers that repeats is always palindromic,
    and it always begins repeating once it reaches a value of <span class="math">\(2 a_0\)</span>.</p>
</li>
</ul>
<p>Here are a few more square roots represented as continued fractions, to help illustrate
the above properties:</p>
<div class="math">$$
\begin{array}
_ \sqrt{19} &amp;=&amp; [4; \overline{2, 1, 3, 1, 2, 8}] \\
\sqrt{115} &amp;=&amp; [10; \overline{1, 2, 1, 1, 1, 1, 1, 2, 1, 20}] \\
\sqrt{988} &amp;=&amp; [31; \overline{2, 3, 4, 1, 20, 6, 1, 14, 1, 6, 20, 1, 4, 3, 2, 62}]
\end{array}
$$</div>
<p>Next, we'll cover how to turn these terms <span class="math">\([a_0; a_1, a_2, \dots]\)</span> into rational
numbers <span class="math">\(\frac{P}{Q}\)</span>. These fractions are called <em>convergents</em>.</p>
<h2>Convergents</h2>
<p>We will show an example of how to compute a continued fraction in the next section, 
but we will cover one additional topic first. In order to be useful, we need some way
to evaluate the continued fraction representation. One way to do this is to repeatedly
compute common denominators, perform the fraction addition, and inert the result. 
The fraction that results is equivalent to the continued fraction expression, but is 
a rational number and therefore easier to evaluate. </p>
<p>It turns out that this rational number is a very important quantity called the <strong>convergent</strong> 
of <span class="math">\(\sqrt{n}\)</span>. However, it is cumbersome to perform the operation of de-rationalizing 
the continued fraction. There is a useful shortcut that takes the form of a recurrence relation.</p>
<p>The <span class="math">\(n^{th}\)</span> convergent is defined as the rational number that results when the continued fraction
representation is carried out to <span class="math">\(n\)</span> terms, then expanded and simplified into a rational number.
If a number like <span class="math">\(\sqrt{19}\)</span> has an infinite continued fraction representation, it means we can compute
progressively more accurate rational approximations. </p>
<p>For example, we know from the above that <span class="math">\(\sqrt{19} = [4; \overline{2,1,3,1,2,8}]\)</span>. Using this fact,
we can use successive terms to write successive linear approximations:</p>
<div class="math">$$
\begin{array}
_ \sqrt{19} &amp;\approx&amp; 4 \\
\quad       &amp;\approx&amp; 4 + \frac{1}{2+0} \approx \frac{9}{2} \\
\quad       &amp;\approx&amp; 4 + \cfrac{1}{2+\cfrac{1}{1}} \approx \frac{13}{3} \\
\quad       &amp;\approx&amp; 4 + \cfrac{1}{2+\cfrac{1}{\cfrac{1}{3}}} \approx \frac{48}{11} \\
\end{array}
$$</div>
<p>If we continue this sequence, we get a slew of approximations (there are also additional approximations between
each of <em>these</em> terms...):</p>
<div class="math">$$
\begin{array}
_ \sqrt{19} &amp;\approx&amp; \frac{61}{14} \\
\quad       &amp;\approx&amp; \frac{170}{39} \\
\quad       &amp;\approx&amp; \frac{1421}{326} \\
\quad       &amp;\approx&amp; \frac{3012}{691} \\
\quad       &amp;\approx&amp; \frac{4433}{1017} \\
\sqrt{19}   &amp;\approx&amp; \frac{16311}{3742}
\end{array}
$$</div>
<p>The numerator and denominator of the <span class="math">\(k^{th}\)</span> convergent are denoted <span class="math">\(P_k\)</span> and <span class="math">\(Q_k\)</span>, 
respectively, and can be computed through the recurrence relation:</p>
<div class="math">$$
\dfrac{P_k}{Q_k} = \dfrac{a_k P_{k-1} + P_{k-2}}{a_k Q_{k-1} + Q_{k-2}}
$$</div>
<p>where the initial values are <span class="math">\(P_{-1} = 1, P_{-2} = 0, Q_{-1} = 0, Q_{-2} = 1\)</span>
(making the first convergent equal to <span class="math">\(\frac{a_0}{1}\)</span>).
This can be used to compute successive approximations.
Note that on a computational platform, you will quickly reach the end 
of your accuracy limit, so care must be taken for continued fraction
sequences of longer than about 10 terms.</p>
<p><a name="cf-example-coeffs"></a></p>
<h2>Example: Continued Fraction Coefficients of <span class="math">\(\sqrt{14}\)</span></h2>
<p>Let's walk through an example of how to compute the continued fraction 
representation <span class="math">\([a_0; a_1, a_2, \dots, a_n]\)</span> for a square root,
and how to compute the <span class="math">\(k^{th}\)</span> convergent.</p>
<p>Begin with the square root of a given number. For variety, we will use <span class="math">\(\sqrt{14}\)</span>.
We begin by computing the nearest integer to 14's square root. If we don't have a 
square root routine, we can try integers by squaring them, and find the last integer
that, when squared, is less than 14. This is <span class="math">\(a_0 = 3\)</span>. To interpret, <span class="math">\(a_0\)</span> is 
the largest integer portion of our square root, with the residual portion 
<span class="math">\(\sqrt{14}-3\)</span> the portion that will be represented by the continued fraction.</p>
<p>Here's what we have:</p>
<div class="math">$$
\sqrt{14} = 3 + (\sqrt{14} - 3) \\
$$</div>
<p>We can drop the residual for an initial rational approximation of <span class="math">\(\sqrt{14} \approx 13\)</span>,
but we can do better by going another step.</p>
<p>We recognize that the residual, which we want write in the form <span class="math">\(\dfrac{1}{\mbox{something}}\)</span>,
can be written as <span class="math">\(\dfrac{1}{\dfrac{1}{\sqrt{14}-3}}\)</span>: </p>
<div class="math">$$
\sqrt{14} = 3 + \dfrac{1}{ \frac{1}{\sqrt{14}-3} }
$$</div>
<p>Now examine the inverse residual term <span class="math">\(\dfrac{1}{\sqrt{14}-3}\)</span> for step 1,
which we will call <span class="math">\(r_1\)</span>. 
Repeat the procedure we performed above: find the nearest integer 
portion to this quantity. In this case,</p>
<div class="math">$$
\dfrac{1}{r_1} = \dfrac{1}{\sqrt{14}-3} = 1.34833...
$$</div>
<p>Now split this into its integer portion, which becomes <span class="math">\(a_1\)</span>, 
and its remaining fractional portion, .34833...:</p>
<div class="math">$$
a_1 = floor( \dfrac{1}{r_1} )
$$</div>
<p>and the new residual <span class="math">\(r\)</span> is written in terms of the old residual
and the coefficent <span class="math">\(a_i\)</span>:</p>
<div class="math">$$
r_2 = \dfrac{1}{r_1} - a_1
$$</div>
<p>Generalizing, we get an iterative procedure to determine the 
coefficients <span class="math">\(a_i\)</span>:</p>
<div class="math">$$
a_i = floor( \dfrac{1}{r_i} )
$$</div>
<p>followed by:</p>
<div class="math">$$
r_{i+1} = \dfrac{1}{r_i} - a_i
$$</div>
<p>where the initial values <span class="math">\(a_0, r_0\)</span> are computed as mentioned above,
and the rest of the values in the sequence follow.</p>
<p>Continuing for <span class="math">\(\sqrt{14}\)</span>, we get:</p>
<div class="math">$$
\begin{array}
_ a_0 &amp;=&amp; 3 \\
r_1 &amp;=&amp; \dfrac{1}{\sqrt{14}-3} = 1.348331 \\
a_1 &amp;=&amp; 1 \\
r_2 &amp;=&amp; \dfrac{1}{.348331} = 2.870829 \\
a_2 &amp;=&amp; 2 \\
r_3 &amp;=&amp; \dfrac{1}{0.870829} = 1.1483311 \\
a_3 &amp;=&amp; 1 \\
r_4 &amp;=&amp; \dfrac{1}{0.1483311} = 6.741676 \\
a_4 &amp;=&amp; 6
\end{array}
$$</div>
<p>It is at this point that we see <span class="math">\(2 a_0\)</span> and know that our (palindromic) 
sequence will repeat. (When we evaluate the convergents, we will utilize
the palindromic nature of this sequence.)</p>
<p>Collecting these terms gives us the expected result: <span class="math">\(\sqrt{14} = [3; 1, 2, 1, 6]\)</span>.</p>
<p>This gives us an algorithmic procedure for computing the 
continued fraction representation <span class="math">\([a_0; a_1, a_2, a_n]\)</span> of a number -
with the important caveat, as mentioned above, that some integers
have sequences that are extremely long before they repeat, making it 
impossible to find the full continued fraction representation 
without arbitrary precision libraries.</p>
<p>That being said, if you are only interested in the first 10 or so
terms of the continued fraction representation, here is a 
static Java method to compute them:</p>
<div class="highlight"><pre><span></span>    <span class="cm">/** Find the (shorter than 10) continued fraction sequence for sqrt(n). </span>
<span class="cm">     * This returns a list of integers, [a0, a1, a2, ...]</span>
<span class="cm">     *</span>
<span class="cm">     * @params n Number to compute the square root of.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">continuedFractionSqrt</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">isPerfectSquare</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Error: n cannot be a perfect square.&quot;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="kt">int</span> <span class="n">niters</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// handbrake</span>

        <span class="kt">int</span> <span class="n">ai</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">remainder</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">coeffs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>

        <span class="c1">// Fencepost</span>
        <span class="n">remainder</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="n">Math</span><span class="p">.</span><span class="na">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">niters</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">val</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="n">remainder</span><span class="p">;</span>
            <span class="n">ai</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
            <span class="n">remainder</span> <span class="o">=</span> <span class="n">val</span> <span class="o">-</span> <span class="n">ai</span><span class="p">;</span>
            <span class="n">coeffs</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">ai</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">coeffs</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="o">*</span><span class="n">coeffs</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">coeffs</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="cm">/** Check if x is a perfect square. */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isPerfectSquare</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> 
        <span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">Math</span><span class="p">.</span><span class="na">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)));</span>
        <span class="k">return</span> <span class="n">x</span><span class="o">==</span><span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="n">s</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/** Find the floor of a double. */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">floor</span><span class="p">(</span><span class="kt">double</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">Math</span><span class="p">.</span><span class="na">floor</span><span class="p">(</span><span class="n">j</span><span class="p">));</span>
    <span class="p">}</span>
</pre></div>


<p>Here is a short program that uses this routine to compute 
the continued fraction representation of <span class="math">\(\sqrt{14}\)</span>:</p>
<div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SquareRootCF</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;sqrt(14) = &quot;</span><span class="o">+</span><span class="n">Convergents</span><span class="p">.</span><span class="na">continuedFractionSqrt</span><span class="p">(</span><span class="mi">14</span><span class="p">));</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;sqrt(19) = &quot;</span><span class="o">+</span><span class="n">Convergents</span><span class="p">.</span><span class="na">continuedFractionSqrt</span><span class="p">(</span><span class="mi">19</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>and the corresponding output:</p>
<div class="highlight"><pre><span></span>$ javac SquareRootCF.java &amp;&amp; java SquareRootCF
sqrt(14) = [3, 1, 2, 1, 6]
sqrt(19) = [4, 2, 1, 3, 1, 2, 8]
</pre></div>


<p><a name="cf-example-convergents"></a></p>
<h2>Example: Convergents of <span class="math">\(\sqrt{14}\)</span></h2>
<p>We now turn to the task of computing the convergents of the continued fraction,
which will yield successive rational numbers that are progressively better approximations
to <span class="math">\(\sqrt{14}\)</span>. </p>
<p>We start with the expression given above for the <span class="math">\(k^{th}\)</span> convergent: </p>
<div class="math">$$
\dfrac{P_k}{Q_k} = \dfrac{a_k P_{k-1} + P_{k-2}}{a_k Q_{k-1} + Q_{k-2}}
$$</div>
<p>with initial values <span class="math">\(P_{-1} = 1, P_{-2} = 0, Q_{-1} = 0, Q_{-2} = 1\)</span>. This yields 
the first "real" convergent:</p>
<div class="math">$$
\dfrac{P_1}{Q_1} = \dfrac{a_0 + 0}{0 + 1} = 4
$$</div>
<p>Successive approximations will use the values <span class="math">\(P_1\)</span> and <span class="math">\(Q_1\)</span> to compute
the next convergents.</p>
<div class="math">$$
\dfrac{P_2}{Q_2} = \dfrac{P_1 a_1 + P_0}{Q_1 a_1 + Q_0} = \frac{11}{3}
$$</div>
<p>Continuing in this fashion gives:</p>
<div class="math">$$
\begin{array}
\quad \dfrac{P_2}{Q_2} &amp;=&amp; \dfrac{15}{4} \\
\dfrac{P_3}{Q_3} &amp;=&amp; \dfrac{11}{3}
\end{array}
$$</div>
<p>and so on. This recurrence relation is easy to code up. It starts with 
the continued fraction coefficients for the given square root, 
and computes successive values of P and Q. The number of terms computed
is specified by the user. Once it reaches the end of the sequence of 
continued fraction coefficients, it can start at the beginning again 
(the sequence is palindromic). </p>
<p>Finally, it returns the values of <span class="math">\(P_k\)</span> and <span class="math">\(Q_k\)</span>, and of the 
successive convergents:</p>
<div class="math">$$
\begin{array}
_ \sqrt{14} &amp;\approx&amp; 3 \\
&amp;\approx&amp; 4 \\
&amp;\approx&amp; 11/3 \\
&amp;\approx&amp; 15/4 \\
&amp;\approx&amp; 101/27 \\
&amp;\approx&amp; 116/31 \\
&amp;\approx&amp; 333/89 \\
&amp;\approx&amp; 449/120 \\
&amp;\approx&amp; 3027/809 \\
&amp;\approx&amp; 3476/929 \\
&amp;\approx&amp; 9979/2667 
\end{array}
$$</div>
<p>Here is a static method in Java that will compute the convergents
of a square root:</p>
<div class="highlight"><pre><span></span>    <span class="cm">/** </span>
<span class="cm">     * Compute the convergents (rational representation of</span>
<span class="cm">     * continued fraction).</span>
<span class="cm">     *</span>
<span class="cm">     * This uses the recurrence relation:</span>
<span class="cm">     *</span>
<span class="cm">     * P_n     a_n P_n-1  + P_n-2</span>
<span class="cm">     * ---- = -----------------</span>
<span class="cm">     *  Q_n    a_n Q_n-1  + Q_n-2</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">long</span><span class="o">[]</span> <span class="nf">convergents</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nterms</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">long</span><span class="o">[]</span> <span class="n">convergents</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">long</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">cfrepr</span> <span class="o">=</span> <span class="n">continuedFractionSqrt</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>

        <span class="c1">// Initial values for convergent recurrence relation</span>
        <span class="kt">long</span> <span class="n">Pnm2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// P_{n-2}</span>
        <span class="kt">long</span> <span class="n">Pnm1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kt">long</span> <span class="n">Qnm2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kt">long</span> <span class="n">Qnm1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">long</span> <span class="n">P</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">long</span> <span class="n">Q</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="c1">// Term 0 is the constant value a0.</span>
        <span class="kt">int</span> <span class="n">accessindex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">nterms</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> 
            <span class="kt">int</span> <span class="n">an</span> <span class="o">=</span> <span class="n">cfrepr</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">accessindex</span><span class="p">);</span>

            <span class="n">P</span> <span class="o">=</span> <span class="n">an</span> <span class="o">*</span> <span class="n">Pnm1</span> <span class="o">+</span> <span class="n">Pnm2</span><span class="p">;</span>
            <span class="n">Q</span> <span class="o">=</span> <span class="n">an</span> <span class="o">*</span> <span class="n">Qnm1</span> <span class="o">+</span> <span class="n">Qnm2</span><span class="p">;</span>

            <span class="n">Pnm2</span> <span class="o">=</span> <span class="n">Pnm1</span><span class="p">;</span>
            <span class="n">Pnm1</span> <span class="o">=</span> <span class="n">P</span><span class="p">;</span>

            <span class="n">Qnm2</span> <span class="o">=</span> <span class="n">Qnm1</span><span class="p">;</span>
            <span class="n">Qnm1</span> <span class="o">=</span> <span class="n">Q</span><span class="p">;</span>

            <span class="k">if</span><span class="p">(</span><span class="n">accessindex</span><span class="o">+</span><span class="mi">1</span><span class="o">&gt;=</span><span class="n">cfrepr</span><span class="p">.</span><span class="na">size</span><span class="p">())</span> <span class="p">{</span> 
                <span class="c1">// Ensure we keep repeating the sequence</span>
                <span class="c1">// if the sequence has fewer terms than</span>
                <span class="c1">// the user asks for.</span>
                <span class="c1">// This allows us to get really good</span>
                <span class="c1">// approximations for numbers.</span>
                <span class="c1">// This only works because the sequence</span>
                <span class="c1">// is palindromic.</span>
                <span class="n">accessindex</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">accessindex</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">convergents</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">P</span><span class="p">;</span>
        <span class="n">convergents</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">Q</span><span class="p">;</span>

        <span class="k">return</span> <span class="n">convergents</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>


<p>Here is a simple driver program that prints out several
convergents for <span class="math">\(\sqrt{14}\)</span>:</p>
<div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SquareRootCF</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">long</span><span class="o">[]</span> <span class="n">conv</span> <span class="o">=</span> <span class="n">Convergents</span><span class="p">.</span><span class="na">convergents</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
            <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Convergent &quot;</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s">&quot;: &quot;</span><span class="o">+</span><span class="n">conv</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span><span class="s">&quot;/&quot;</span><span class="o">+</span><span class="n">conv</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>and the corresponding console output:</p>
<div class="highlight"><pre><span></span>$ javac SquareRootCF.java &amp;&amp; java SquareRootCF
Convergent 1: 4/1
Convergent 2: 11/3
Convergent 3: 15/4
Convergent 4: 101/27
Convergent 5: 116/31
Convergent 6: 333/89
Convergent 7: 449/120
Convergent 8: 3027/809
Convergent 9: 3476/929
Convergent 10: 9979/2667
</pre></div>


<p><a name="cf-sqrt-refs"></a></p>
<h1>References</h1>
<ol>
<li>
<p>Hardy, G. H. <u>A Course of Pure Mathematics.</u> 
Cambridge University Press, Tenth Edition (1908-1967).</p>
</li>
<li>
<p>Knuth, Donald. <u>The Art of Computer Programming, Volume 2: Seminumerical Algorithms.</u> 
Addison-Wesley Publishing Company, Second Edition (1975).</p>
</li>
</ol>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script></div>

    </div>
</div>

<div class="v20"></div>

<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="tags">
            <p>Tags:&nbsp;&nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/computer-science.html">computer science</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/java.html">java</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/mathematics.html">mathematics</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/number-theory.html">number theory</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/square-roots.html">square roots</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/numerical-methods.html">numerical methods</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/continued-fractions.html">continued fractions</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/irrational-numbers.html">irrational numbers</a>
                    &nbsp;&nbsp;
        </div>

    </div>
</div>


<div class="v200"></div>
  	            	</article>
  	            	<article>
<header>
<div class="row">


    <div class="col-md-12">
        <div class="headtext" style="text-align: center;">
            <h1><b>
                Computing Square Roots: Part 1: Using Newton's Method
            </b></h1>
        
            <p class="lead">
                Posted 
                <time datetime="2017-07-14T18:00:00-07:00" pubdate>Friday 07/14/2017</time>
                in 
                <a href="https://charlesreid1.github.io/category/mathematics.html">Mathematics</a>
                </p>
            <p>
            <span style="font-size: 14px">
                <a href="https://charlesreid1.github.io/computing-square-roots-part-1-using-newtons-method.html">permalink</a>
            </span>
            </p>
        </div>

    </div>

</div>
</header>


<div class="v50"></div>


<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="entry-content"><h2>Table of Contents</h2>
<ul>
<li>
<p><a href="#newton-roots">Newton's Method for Finding Roots of Equations</a></p>
</li>
<li>
<p><a href="#newton-square-roots">Newton's Method for Finding Square Roots</a></p>
</li>
<li>
<p><a href="#newton-program">Newton's Method for Finding Square Roots: Program</a></p>
</li>
<li>
<p><a href="#newton-accuracy">Accuracy</a></p>
</li>
<li>
<p><a href="#newton-speed">Speed</a></p>
</li>
<li>
<p><a href="#newton-next">Next Steps</a></p>
</li>
<li>
<p><a href="#newton-refs">References</a></p>
</li>
</ul>
<p><a name="newton-roots"></a></p>
<h2>Newton's Method for Finding Roots of Equations</h2>
<p>Suppose we have a function <span class="math">\(f(x)\)</span> and we want to 
compute values of <span class="math">\(x\)</span> for which <span class="math">\(f(x)=0\)</span>. These values 
of <span class="math">\(x\)</span> are called the <strong>roots</strong> of <span class="math">\(f(x)\)</span>.</p>
<p>We can compute the roots using Newton's Method,
which utilizes the derivative of the function
to iteratively compute the roots of the function.</p>
<p>Newton's method begins with an initial guess.
It evaluates the derivative of the fnction at the 
initial guess, which gives the slope of the tangent line,
and computes the root of the tangent line as the next
approximation of the root of the function.</p>
<p>This is based on the point-slope formula,</p>
<div class="math">$$
y - y_0 = m(x - x_0) 
$$</div>
<p>Now the left side becomes </p>
<div class="math">$$
f(x) - f(x_0) = f'(x_0)(x - x_0)
$$</div>
<p>and at the root, we know <span class="math">\(f(x)=0\)</span>, so rearranging this equation
into an expression for the root <span class="math">\(x\)</span> gives: </p>
<div class="math">$$
x = x_0 - \dfrac{f(x_0)}{f'(x_0)}
$$</div>
<p>Now, this is the equation for the next approximation for the root.
To turn this into an iterative procedure, we write this as</p>
<div class="math">$$
x_{i+1} = x_{i} - \dfrac{f(x_i)}{f'(x_i)}
$$</div>
<p>Newton's Method then allows us to evaluate the 
above expression as many times as we would like
to achive the desired accuracy. </p>
<p>Two caveats with Newton's Method: </p>
<ul>
<li>The function must be relatively well-behaved; 
    Newton's Method does not converge for functions with
    large, high-order derivatives.</li>
<li>The convergence of the method depends on the accuracy 
    of the initial guess. If you can make a good guess, do it!</li>
</ul>
<p><a name="newton-square-roots"></a></p>
<h2>Newton's Method for Finding Square Roots</h2>
<p>Note that we can use the procedure and equation from above
to compute the numerical value of a given function to an arbitrary
degree of accuracy, so long as we have the derivative (and a program 
that can keep track of arbitrary digits).</p>
<p>Suppose we want to use Newton's Method to compute <span class="math">\(\sqrt{2}\)</span>.
Then we can solve for the roots of the following function:</p>
<div class="math">$$
f(x) = x^2 - a
$$</div>
<p>for <span class="math">\(a = 2\)</span>.</p>
<p>Note that the derivative of this function is computed using the power rule,
which is trivial to implement, so we can also use this method to compute
general <span class="math">\(n^{th}\)</span> roots of <span class="math">\(a\)</span>, by solving for roots of:</p>
<div class="math">$$
f(x) = x^n - a
$$</div>
<p>For a monomial with nonzero power, the derivative is always l<span class="math">\(f'(x) = n x^{n-1}\)</span>, 
so in the square root case we have <span class="math">\(f'(x) = 2x\)</span>. Now we plug these two functions
into the iterative formula for Newton's Method to get:</p>
<div class="math">$$
\begin{array}
a x_{i+1} &amp;=&amp; x_{i} - \dfrac{f(x_n)}{f'(x_n)} \\
x_{i+1} &amp;=&amp; x_{i} - \dfrac{x_i^2 - a}{2 x_i }
\end{array}
$$</div>
<p><a name="newton-program"></a></p>
<h2>Newton's Method for Finding Square Roots: Program</h2>
<p>This can be implemented in a programming language to yield an iterative
method for computing square roots. We can either specify a tolerance (better),
or a number of iterations. Here is a static method for computing
a square root using Newton's method. The user specifies the value of <span class="math">\(a\)</span>,
the number they want to compute the square root of; <span class="math">\(x_0\)</span>, the initial guess;
and a tolerance, which controls the number of decimal places of accuracy of the 
final answer.</p>
<div class="highlight"><pre><span></span>    <span class="cm">/** Compute a square root using Newton&#39;s Method, to a specified tolerance.</span>
<span class="cm">     *</span>
<span class="cm">     * @param a Compute the square root of a.</span>
<span class="cm">     * @param x0 Initial guess.</span>
<span class="cm">     * @param tol Tolerance (stopping criteria).</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">double</span> <span class="nf">nmsqrttol</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">x0</span><span class="p">,</span> <span class="kt">double</span> <span class="n">tol</span><span class="p">)</span> <span class="p">{</span> 
        <span class="kt">double</span> <span class="n">xi</span><span class="p">,</span> <span class="n">xip1</span><span class="p">,</span> <span class="n">err</span><span class="p">;</span>
        <span class="n">xi</span> <span class="o">=</span> <span class="n">xip1</span> <span class="o">=</span> <span class="n">x0</span><span class="p">;</span>
        <span class="n">err</span> <span class="o">=</span> <span class="n">x0</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">err</span> <span class="o">&gt;</span> <span class="n">tol</span><span class="p">)</span> <span class="p">{</span> 
            <span class="n">xip1</span> <span class="o">=</span> <span class="n">xi</span> <span class="o">-</span> <span class="p">(</span><span class="n">xi</span><span class="o">*</span><span class="n">xi</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">xi</span><span class="p">);</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span> <span class="n">xip1</span> <span class="o">-</span> <span class="n">xi</span> <span class="p">);</span>
            <span class="n">xi</span> <span class="o">=</span> <span class="n">xip1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">xip1</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>


<p>(There is no check for infinite loops because our function is a smooth
polynomial and Newton's Method will always converge.) </p>
<p>Here is sample output from a program that varies the tolerance and prints
the corresponding value of the square root that was computed:</p>
<div class="highlight"><pre><span></span>$ javac SquareRoot.java &amp;&amp; java SquareRoot
Actual value sqrt(2) = 1.4142135623730951
Testing Newton&#39;s Method, Specifying Tolerance:
Tol         sqrt(2)
0.1         1.4166666666666667
0.01        1.4142156862745099
0.001       1.4142135623746899
0.0001      1.4142135623746899
1e-05       1.4142135623746899
1e-06       1.4142135623730951
1e-07       1.4142135623730951
1e-08       1.4142135623730951
</pre></div>


<p><a name="newton-accuracy"></a></p>
<h2>Accuracy</h2>
<p>Now that we've coded up Newton's Method, we can determine the number of accurate 
digits. There are a couple of ways to do this, but I went with a string comparison 
method. I start with a text file containing thousands of digits of the square root of 2,
then I compute the square root of 2 using Newton's Method. The longest common substring
gives me the number of accurate digits, plus "1.", so if I subtract 2 I get the 
total number of accurate digits after the decimal place. </p>
<div class="highlight"><pre><span></span><span class="err">javac SquareRoot.java &amp;&amp; java SquareRoot</span>
<span class="err">Tolerance = 0.1     Number of accurate digits = 2</span>
<span class="err">Tolerance = 0.01        Number of accurate digits = 5</span>
<span class="err">Tolerance = 0.001       Number of accurate digits = 11</span>
<span class="err">Tolerance = 0.0001      Number of accurate digits = 11</span>
<span class="err">Tolerance = 1e-05       Number of accurate digits = 11</span>
<span class="err">Tolerance = 1e-06       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-07       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-08       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-09       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-10       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-11       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-12       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-13       Number of accurate digits = 15</span>
<span class="err">Tolerance = 1e-14       Number of accurate digits = 15</span>
</pre></div>


<p><a name="newton-speed"></a></p>
<h2>Speed</h2>
<p>It is also important to measure performance, in the form of speed. How fast is 
Newton's Method relative to the built-in square root function in the math library?</p>
<p>Turns out the performance of Newton's Method is much worse than the built-in math library's 
square root function. The Newton's Method defined above is around 100 times slower. 
Here are the results of a simple timing test, in which we compute the square root
10 million times, timing how long it takes, and divide by the number of operations
to yield the time per operation (or rather, as it is slightly easier to grasp, 
the time per 1k operations);:</p>
<div class="highlight"><pre><span></span>    <span class="c">/** Time Newton&#39;s Method.</span>
<span class="c">     *</span>
<span class="c">     * How long does it take to achieve 10 digits of accuracy? */</span>
    <span class="nt">public</span> <span class="nt">static</span> <span class="nt">void</span> <span class="nt">testTime</span><span class="o">()</span> <span class="p">{</span> 

        <span class="err">int</span> <span class="err">Nops</span><span class="p">;</span>
        <span class="err">double</span> <span class="err">a</span><span class="p">;</span>
        <span class="err">double</span> <span class="err">initialGuess</span><span class="p">;</span>
        <span class="err">double</span> <span class="err">tol</span><span class="p">;</span>
        <span class="err">double</span> <span class="err">time</span><span class="p">;</span>

        <span class="err">Tim</span> <span class="err">tim</span><span class="p">;</span>

        <span class="err">Nops</span> <span class="err">=</span> <span class="err">10000000</span><span class="p">;</span>
        <span class="err">a</span> <span class="err">=</span> <span class="err">2</span><span class="p">;</span>
        <span class="err">initialGuess</span> <span class="err">=</span> <span class="err">1</span><span class="p">;</span>
        <span class="err">tol</span> <span class="err">=</span> <span class="err">1E-8</span><span class="p">;</span>
        <span class="err">tim</span> <span class="err">=</span> <span class="err">new</span> <span class="err">Tim()</span><span class="p">;</span>
        <span class="err">tim.tic()</span><span class="p">;</span>
        <span class="err">for(int</span> <span class="err">i=0</span><span class="p">;</span> <span class="err">i&lt;Nops</span><span class="p">;</span> <span class="err">i++)</span> <span class="err">{</span> 
            <span class="err">nmsqrttol(a,</span> <span class="err">initialGuess,</span> <span class="err">tol)</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nt">tim</span><span class="p">.</span><span class="nc">toc</span><span class="o">();</span>
        <span class="nt">time</span> <span class="o">=</span> <span class="nt">1000</span><span class="o">*</span><span class="nt">tim</span><span class="p">.</span><span class="nc">elapsedms</span><span class="o">()/</span><span class="nt">Nops</span><span class="o">;</span>
        <span class="nt">System</span><span class="p">.</span><span class="nc">out</span><span class="p">.</span><span class="nc">println</span><span class="o">(</span><span class="s2">&quot;Newton&#39;s Method Time (ms) per 1k operations: &quot;</span><span class="o">+</span><span class="nt">time</span><span class="o">);</span>


        <span class="nt">Nops</span> <span class="o">=</span> <span class="nt">10000000</span><span class="o">;</span>
        <span class="nt">a</span> <span class="o">=</span> <span class="nt">2</span><span class="o">;</span>
        <span class="nt">tim</span> <span class="o">=</span> <span class="nt">new</span> <span class="nt">Tim</span><span class="o">();</span>
        <span class="nt">tim</span><span class="p">.</span><span class="nc">tic</span><span class="o">();</span>
        <span class="nt">for</span><span class="o">(</span><span class="nt">int</span> <span class="nt">i</span><span class="o">=</span><span class="nt">0</span><span class="o">;</span> <span class="nt">i</span><span class="o">&lt;</span><span class="nt">Nops</span><span class="o">;</span> <span class="nt">i</span><span class="o">++)</span> <span class="p">{</span> 
            <span class="err">Math.sqrt(a)</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nt">tim</span><span class="p">.</span><span class="nc">toc</span><span class="o">();</span>
        <span class="nt">time</span> <span class="o">=</span> <span class="nt">1000</span><span class="o">*</span><span class="nt">tim</span><span class="p">.</span><span class="nc">elapsedms</span><span class="o">()/</span><span class="nt">Nops</span><span class="o">;</span>
        <span class="nt">System</span><span class="p">.</span><span class="nc">out</span><span class="p">.</span><span class="nc">println</span><span class="o">(</span><span class="s2">&quot;Math Library Time (ms) per 1k operations: &quot;</span><span class="o">+</span><span class="nt">time</span><span class="o">);</span>

    <span class="err">}</span>
</pre></div>


<p>and the results:</p>
<div class="highlight"><pre><span></span><span class="err">javac SquareRoot.java &amp;&amp; java SquareRoot</span>
<span class="err">Newton&#39;s Method Time (ms) per 1k operations: 0.016</span>
<span class="err">Math Library Time (ms) per 1k operations: 3.0E-4</span>
</pre></div>


<p>While the accuracy of Newton's Method for square roots may not be that great,
it ain't bad, for 9 lines of code. </p>
<p><a name="newton-next"></a></p>
<h2>Next Steps</h2>
<p>In a blog post to follow, we'll compare the speed and accuracy of square root computations using Newton's Method
to an alternative approach involving the continued fraction representation of square roots. This particularly interesting
technique can also be used to solve the Pell equation, a quadratic Diophantine equation of the form:</p>
<div class="math">$$
x^2 - D y^2 = 1
$$</div>
<p>But more on that in a future post...</p>
<p><a name="newton-refs"></a></p>
<h2>References</h2>
<ol>
<li>
<p>Press, William et al. "Numerical Recipes in C." Cambridge Unviersity Press (2007).</p>
</li>
<li>
<p>"SquareRoot.java". Charles Reid. git.charlesreid1.com.
&lt;<a href="https://git.charlesreid1.com/cs/java/src/master/numerics/newtons-method">https://git.charlesreid1.com/cs/java/src/master/numerics/newtons-method</a>&gt;</p>
</li>
</ol>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script></div>

    </div>
</div>

<div class="v20"></div>

<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="tags">
            <p>Tags:&nbsp;&nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/computer-science.html">computer science</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/java.html">java</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/mathematics.html">mathematics</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/number-theory.html">number theory</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/square-roots.html">square roots</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/numerical-methods.html">numerical methods</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/newtons-method.html">newtons method</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/irrational-numbers.html">irrational numbers</a>
                    &nbsp;&nbsp;
        </div>

    </div>
</div>


<div class="v200"></div>
  	            	</article>
  	            	<article>
<header>
<div class="row">


    <div class="col-md-12">
        <div class="headtext" style="text-align: center;">
            <h1><b>
                CSE 143 Final Project: Hilbert Sort: 3. The Code
            </b></h1>
        
            <p class="lead">
                Posted 
                <time datetime="2017-06-30T20:00:00-07:00" pubdate>Friday 06/30/2017</time>
                in 
                <a href="https://charlesreid1.github.io/category/computer-science.html">Computer Science</a>
                </p>
            <p>
            <span style="font-size: 14px">
                <a href="https://charlesreid1.github.io/cse-143-final-project-hilbert-sort-3-the-code.html">permalink</a>
            </span>
            </p>
        </div>

    </div>

</div>
</header>


<div class="v50"></div>


<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="entry-content"><h1>Table of Contents</h1>
<p>This is the third in a series of three posts 
detailing the Hilbert Sort problem,
its solution, and its implementation.
This post deals with the code to solve the
Hilbert Sort problem.</p>
<ul>
<li>
<p><a href="#hilbert3-pseudocode">Pseudocode</a></p>
</li>
<li>
<p><a href="#hilbert3-code">Code</a></p>
<ul>
<li><a href="#hilbert3-utility">Utility Classes</a></li>
<li><a href="#hilbert3-recursive">Recursive Sort Function</a></li>
<li><a href="#hilbert3-main">Main Method</a></li>
</ul>
</li>
<li>
<p><a href="#hilbert2-references">References</a></p>
</li>
</ul>
<p><a name="hilbert3-pseudocode"></a></p>
<h1>Hilbert Sort: Pseudocode</h1>
<p>From our prior post, here is the psudocode for our Hilbert Sort function:</p>
<div class="highlight"><pre><span></span><span class="n">define</span> <span class="n">hilbert_sort</span><span class="p">(</span> <span class="n">unsorted</span> <span class="n">queue</span><span class="p">,</span> <span class="n">square</span> <span class="n">dimension</span> <span class="p">):</span>
    <span class="k">create</span> <span class="n">southwest</span> <span class="n">queue</span>
    <span class="k">create</span> <span class="n">northwest</span> <span class="n">queue</span>
    <span class="k">create</span> <span class="n">northeast</span> <span class="n">queue</span>
    <span class="k">create</span> <span class="n">southeast</span> <span class="n">queue</span>
    <span class="k">for</span> <span class="k">each</span> <span class="n">point</span><span class="p">:</span>
        <span class="k">if</span> <span class="k">in</span> <span class="n">southwest</span><span class="p">:</span>
            <span class="k">create</span> <span class="k">new</span> <span class="n">point</span> <span class="k">using</span> <span class="n">X</span> <span class="o">-&gt;</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Y</span> <span class="o">-&gt;</span> <span class="n">X</span>
            <span class="k">add</span> <span class="k">to</span> <span class="n">southwest</span> <span class="n">queue</span>
        <span class="k">if</span> <span class="k">in</span> <span class="n">northwest</span><span class="p">:</span>
            <span class="k">create</span> <span class="k">new</span> <span class="n">point</span> <span class="k">using</span> <span class="n">X</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="n">Y</span> <span class="o">-</span> <span class="n">S</span>
            <span class="k">add</span> <span class="k">to</span> <span class="n">northwest</span> <span class="n">queue</span>
        <span class="k">if</span> <span class="k">in</span> <span class="n">northeast</span><span class="p">:</span>
            <span class="k">create</span> <span class="k">new</span> <span class="n">point</span> <span class="k">using</span> <span class="n">X</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="n">X</span> <span class="o">-</span> <span class="n">S</span><span class="p">,</span> <span class="n">Y</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="n">Y</span> <span class="o">-</span> <span class="n">S</span>
            <span class="k">add</span> <span class="k">to</span> <span class="n">northeast</span> <span class="n">queue</span>
        <span class="k">if</span> <span class="k">in</span> <span class="n">southeast</span><span class="p">:</span>
            <span class="k">create</span> <span class="k">new</span> <span class="n">point</span> <span class="k">using</span> <span class="n">X</span> <span class="o">-&gt;</span> <span class="n">S</span> <span class="o">-</span> <span class="mi">2</span><span class="n">Y</span><span class="p">,</span> <span class="n">Y</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="n">S</span> <span class="o">-</span> <span class="mi">2</span><span class="n">X</span>
            <span class="k">add</span> <span class="k">to</span> <span class="n">southeast</span> <span class="n">queue</span>

        <span class="n">hilbertsort</span><span class="p">(</span><span class="n">southwest</span> <span class="n">queue</span><span class="p">,</span> <span class="n">square</span> <span class="n">dimension</span><span class="p">)</span>
        <span class="n">hilbertsort</span><span class="p">(</span><span class="n">northwest</span> <span class="n">queue</span><span class="p">,</span> <span class="n">square</span> <span class="n">dimension</span><span class="p">)</span>
        <span class="n">hilbertsort</span><span class="p">(</span><span class="n">northeast</span> <span class="n">queue</span><span class="p">,</span> <span class="n">square</span> <span class="n">dimension</span><span class="p">)</span>
        <span class="n">hilbertsort</span><span class="p">(</span><span class="n">southeast</span> <span class="n">queue</span><span class="p">,</span> <span class="n">square</span> <span class="n">dimension</span><span class="p">)</span>

        <span class="k">create</span> <span class="k">new</span> <span class="n">results</span> <span class="n">queue</span>
        <span class="k">add</span> <span class="n">points</span> <span class="k">from</span> <span class="n">southwest</span> <span class="k">into</span> <span class="n">results</span> <span class="n">queue</span>
        <span class="k">add</span> <span class="n">points</span> <span class="k">from</span> <span class="n">northwest</span> <span class="k">into</span> <span class="n">results</span> <span class="n">queue</span>
        <span class="k">add</span> <span class="n">points</span> <span class="k">from</span> <span class="n">northeast</span> <span class="k">into</span> <span class="n">results</span> <span class="n">queue</span>
        <span class="k">add</span> <span class="n">points</span> <span class="k">from</span> <span class="n">southeast</span> <span class="k">into</span> <span class="n">results</span> <span class="n">queue</span>
        <span class="k">return</span> <span class="n">results</span> <span class="n">queue</span>
</pre></div>


<p>Because we are manually sorting, and we want order to be preserved,
we should be using a queue to organize points as we sort them.
That way, we add them in sorted order, and we are then able to remove
them in sorted order.</p>
<p><a name="hilbert3-code"></a></p>
<h1>Hilbert Sort: Code</h1>
<p>We begin by covering a utility class used by the Hilbert Sort method
to store <span class="math">\((X,Y)\)</span> points. This is a simple example of a composition 
design pattern. Next, we cover the bulk of the problem solution: 
the recursive sort method that partiions points into quadrants.
Finally, we cover the main method, which demonstrates reading data
from an input file and passing it to the sort method.</p>
<p><a name="hilbert3-utility"></a></p>
<h2>Hilbert Sort: Utility Classes</h2>
<p>To organize <span class="math">\((X,Y)\)</span> point data, we use a simple class
using composition. This is defined next to the HilbertSort 
class.</p>
<div class="highlight"><pre><span></span><span class="err">/**</span>
<span class="err"> * An (x,y) Point class. </span>
<span class="err"> */</span>
<span class="err">class Point {</span>
<span class="err">    int x, y; // (x,y) point.</span>
<span class="err">    String name; // Each (x,y) point has a name in the file. Used for output.</span>
<span class="err">    /** Constructor. */</span>
<span class="err">    public Point(int x, int y, String name) { </span>
<span class="err">        this.x = x; this.y = y; this.name = name;</span>
<span class="err">    }</span>
<span class="err">    /** String representation (x,y). */</span>
<span class="err">    public String toString() { </span>
<span class="err">        return &quot;(&quot;+this.x+&quot;,&quot;+this.y+&quot;,&quot;+this.name+&quot;)&quot;;</span>
<span class="err">    }</span>
<span class="err">}</span>
</pre></div>


<p><a name="hilbert3-recursive"></a></p>
<h2>Recursive Sort Function</h2>
<p>Following is the recursive sort method, which (like merge sort)
consists of a split step, which partitions an <span class="math">\(S \times S\)</span> 
square into quadrants and distributes points in the square into their
corresponding quadrants, and a merge step, which stitches together
each quadrant in the correct order. </p>
<div class="highlight"><pre><span></span>    <span class="cm">/** Recursive implementation of a Hilbert sort. */</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">hilbertSort</span><span class="p">(</span><span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">inputP</span><span class="p">,</span> <span class="nb">int</span> <span class="n">S</span><span class="p">)</span> <span class="err">{</span>
        <span class="o">//</span> <span class="k">Recursive</span> <span class="k">method</span><span class="p">:</span>
        <span class="o">//</span> <span class="n">Apply</span> <span class="n">the</span> <span class="n">Hilbert</span> <span class="n">geometrical</span> <span class="n">quadrant</span> <span class="n">division</span> 
        <span class="o">//</span> <span class="k">to</span> <span class="n">sort</span> <span class="n">points</span> <span class="k">by</span> <span class="k">when</span> <span class="n">they</span> <span class="k">are</span> <span class="n">visited</span> <span class="k">by</span> <span class="n">a</span> <span class="n">Hilbert</span> <span class="n">curve</span><span class="p">.</span>
        <span class="o">//</span>
        <span class="o">//</span> <span class="n">Base</span> <span class="k">case</span><span class="p">:</span> 
        <span class="o">//</span> <span class="n">There</span> <span class="k">are</span> <span class="mi">1</span> <span class="k">or</span> <span class="n">fewer</span> <span class="n">points</span> <span class="k">in</span> <span class="k">each</span> <span class="n">quadrant</span><span class="p">.</span>
        <span class="o">//</span> <span class="n">Keep</span> <span class="n">splitting</span> <span class="k">into</span> <span class="n">quadrants</span> <span class="k">until</span> <span class="n">we</span> <span class="n">reach</span> <span class="n">the</span> <span class="n">base</span> <span class="k">case</span><span class="p">.</span> 
        <span class="k">if</span><span class="p">(</span><span class="n">inputP</span><span class="p">.</span><span class="k">size</span><span class="p">()</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">)</span> <span class="err">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="err">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">inputP</span><span class="p">.</span><span class="k">size</span><span class="p">()</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="err">{</span>
            <span class="k">return</span> <span class="n">inputP</span><span class="p">;</span>
        <span class="err">}</span>

        <span class="o">//</span> <span class="n">split</span> <span class="k">by</span> <span class="n">quadrant</span>
        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">qSW</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">qNW</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">qNE</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">qSE</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="p">();</span>

        <span class="o">//</span> <span class="n">Sort</span> <span class="n">points</span> <span class="k">by</span> <span class="n">dividing</span> <span class="k">into</span> <span class="n">quadrants</span>
        <span class="k">for</span><span class="p">(</span><span class="n">Point</span> <span class="n">p</span> <span class="p">:</span> <span class="n">inputP</span><span class="p">)</span> <span class="err">{</span> 

            <span class="o">//</span> <span class="k">Prepare</span> <span class="k">for</span> <span class="n">the</span> <span class="n">tricky</span> <span class="n">part</span><span class="p">.</span>
            <span class="o">//</span>
            <span class="o">//</span> <span class="n">Rotate</span> <span class="n">the</span> <span class="n">quadrant</span><span class="p">,</span> <span class="k">and</span> <span class="n">points</span> <span class="k">in</span> <span class="n">it</span><span class="p">,</span>
            <span class="o">//</span> <span class="n">so</span> <span class="n">that</span> <span class="n">everything</span> <span class="k">is</span> <span class="n">now</span> <span class="n">translated</span> <span class="k">to</span> <span class="n">fit</span>
            <span class="o">//</span> <span class="n">how</span> <span class="n">the</span> <span class="k">template</span> <span class="k">of</span> <span class="n">the</span> <span class="n">Hilbert</span> <span class="n">curve</span> <span class="k">is</span> <span class="n">being</span> <span class="n">drawn</span><span class="p">.</span>
            <span class="o">//</span> <span class="p">(</span><span class="n">SW</span><span class="o">-&gt;</span><span class="n">NW</span><span class="o">-&gt;</span><span class="n">NE</span><span class="o">-</span><span class="n">SE</span><span class="p">)</span>

            <span class="nb">boolean</span> <span class="n">inSWquadrant</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">S</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="n">S</span><span class="p">);</span>
            <span class="nb">boolean</span> <span class="n">inNWquadrant</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">S</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="n">S</span><span class="p">);</span>

            <span class="nb">boolean</span> <span class="n">inNEquadrant</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="n">S</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="n">S</span><span class="p">);</span>
            <span class="nb">boolean</span> <span class="n">inSEquadrant</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="n">S</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="n">S</span><span class="p">);</span>

            <span class="o">//</span> <span class="k">Each</span> <span class="n">time</span> <span class="n">we</span> <span class="n">sort</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="n">points</span> <span class="k">into</span> <span class="n">quadrants</span><span class="p">,</span>
            <span class="o">//</span> <span class="n">we</span> <span class="n">also</span> <span class="k">transform</span> <span class="k">each</span> <span class="n">coordinate</span> <span class="n">point</span> 
            <span class="o">//</span> <span class="k">in</span> <span class="n">such</span> <span class="n">a</span> <span class="n">way</span> <span class="n">that</span> <span class="n">it</span> <span class="n">rescales</span> <span class="k">to</span> <span class="n">an</span> <span class="n">S</span> <span class="n">x</span> <span class="n">S</span> <span class="n">square</span><span class="p">,</span>
            <span class="o">//</span> <span class="n">but</span> <span class="n">does</span> <span class="k">not</span> <span class="k">modify</span> <span class="n">the</span> <span class="k">order</span> <span class="k">of</span> <span class="n">the</span> <span class="n">points</span><span class="p">.</span> 
            <span class="o">//</span>
            <span class="o">//</span> <span class="n">Note</span> <span class="n">that</span> <span class="n">we</span> <span class="n">can</span> <span class="n">keep</span> <span class="n">everything</span> <span class="k">as</span> <span class="n">integers</span> <span class="k">by</span>
            <span class="o">//</span> <span class="n">continuing</span> <span class="k">to</span> <span class="n">look</span> <span class="k">at</span> <span class="n">an</span> <span class="n">S</span> <span class="n">x</span> <span class="n">S</span> <span class="n">square</span><span class="p">,</span>
            <span class="o">//</span> <span class="k">and</span> <span class="n">double</span> <span class="n">the</span> <span class="n">x</span> <span class="k">and</span> <span class="n">y</span> <span class="k">values</span> <span class="k">to</span> <span class="n">shift</span> <span class="n">them</span> <span class="n">over</span><span class="o">/</span><span class="n">up</span><span class="p">.</span>
            <span class="o">//</span>
            <span class="o">//</span> <span class="n">Two</span> <span class="n">easy</span> <span class="n">cases</span><span class="p">:</span>
            <span class="k">if</span><span class="p">(</span><span class="n">inNWquadrant</span><span class="p">)</span> <span class="err">{</span>
                <span class="o">//</span> <span class="n">Northwest</span> <span class="n">quadrant</span><span class="p">:</span> 
                <span class="o">//</span> <span class="o">-</span> <span class="n">shift</span> <span class="n">y</span> <span class="n">down</span> <span class="k">by</span> <span class="n">S</span><span class="o">/</span><span class="mi">2</span>
                <span class="o">//</span> <span class="o">-</span> <span class="n">keep</span> <span class="n">x</span> <span class="k">and</span> <span class="n">y</span> <span class="k">in</span> <span class="n">same</span> <span class="k">order</span>
                <span class="n">qNW</span><span class="p">.</span><span class="k">add</span><span class="p">(</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">S</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">)</span> <span class="p">);</span>

            <span class="err">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">inNEquadrant</span><span class="p">)</span> <span class="err">{</span>
                <span class="o">//</span> <span class="n">Northeast</span> <span class="n">quadrant</span><span class="p">:</span>
                <span class="o">//</span> <span class="o">-</span> <span class="n">shift</span> <span class="n">x</span> <span class="k">and</span> <span class="n">y</span> <span class="n">down</span> <span class="k">by</span> <span class="n">S</span><span class="o">/</span><span class="mi">2</span>
                <span class="o">//</span> <span class="o">-</span> <span class="n">keep</span> <span class="n">x</span> <span class="k">and</span> <span class="n">y</span> <span class="k">in</span> <span class="n">same</span> <span class="k">order</span>
                <span class="n">qNE</span><span class="p">.</span><span class="k">add</span><span class="p">(</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">S</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">S</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">)</span> <span class="p">);</span>

            <span class="err">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">inSWquadrant</span><span class="p">)</span> <span class="err">{</span> 
                <span class="o">//</span> <span class="n">Southwest</span> <span class="n">quadrant</span><span class="p">:</span>
                <span class="o">//</span> <span class="o">-</span> <span class="n">x</span> <span class="k">and</span> <span class="n">y</span> <span class="n">need</span> <span class="k">to</span> <span class="n">swap</span> <span class="n">places</span> 
                <span class="o">//</span> <span class="o">-</span> <span class="n">that</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">it</span><span class="p">.</span>
                <span class="n">qSW</span><span class="p">.</span><span class="k">add</span><span class="p">(</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">)</span> <span class="p">);</span>

            <span class="err">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">inSEquadrant</span><span class="p">)</span> <span class="err">{</span> 
                <span class="o">//</span> <span class="n">Southeast</span> <span class="n">quadrant</span><span class="p">:</span>
                <span class="o">//</span> <span class="o">-</span> <span class="n">trickiest</span> <span class="n">quadrant</span><span class="p">.</span>
                <span class="o">//</span> <span class="o">-</span> <span class="n">We</span> <span class="n">want</span> <span class="k">to</span> <span class="k">preserve</span> <span class="n">S</span> <span class="o">-</span> <span class="n">x</span><span class="p">,</span> <span class="n">distance</span> <span class="k">from</span> <span class="k">right</span> <span class="n">side</span>
                <span class="o">//</span> <span class="o">-</span> <span class="n">we</span> <span class="n">want</span> <span class="k">to</span> <span class="n">use</span> <span class="n">it</span> <span class="k">as</span> <span class="n">the</span> <span class="k">new</span> <span class="n">y</span> <span class="n">coordinate</span>
                <span class="n">qSE</span><span class="p">.</span><span class="k">add</span><span class="p">(</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="n">S</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">S</span> <span class="o">-</span> <span class="n">p</span><span class="p">.</span><span class="n">x</span><span class="p">),</span> <span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">)</span> <span class="p">);</span>

            <span class="err">}</span>

        <span class="err">}</span>
        <span class="o">//</span> <span class="n">Sort</span> <span class="n">til</span> <span class="n">you</span> <span class="n">reach</span> <span class="n">the</span> <span class="n">base</span> <span class="k">case</span><span class="p">.</span>
        <span class="n">qSW</span> <span class="o">=</span> <span class="n">hilbertSort</span><span class="p">(</span><span class="n">qSW</span><span class="p">,</span> <span class="n">S</span><span class="p">);</span> 
        <span class="n">qNW</span> <span class="o">=</span> <span class="n">hilbertSort</span><span class="p">(</span><span class="n">qNW</span><span class="p">,</span> <span class="n">S</span><span class="p">);</span> 
        <span class="n">qNE</span> <span class="o">=</span> <span class="n">hilbertSort</span><span class="p">(</span><span class="n">qNE</span><span class="p">,</span> <span class="n">S</span><span class="p">);</span> 
        <span class="n">qSE</span> <span class="o">=</span> <span class="n">hilbertSort</span><span class="p">(</span><span class="n">qSE</span><span class="p">,</span> <span class="n">S</span><span class="p">);</span>

        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="k">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="n">Point</span> <span class="n">q</span> <span class="p">:</span> <span class="n">qSW</span><span class="p">)</span> <span class="k">result</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="n">Point</span> <span class="n">q</span> <span class="p">:</span> <span class="n">qNW</span><span class="p">)</span> <span class="k">result</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="n">Point</span> <span class="n">q</span> <span class="p">:</span> <span class="n">qNE</span><span class="p">)</span> <span class="k">result</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">q</span><span class="p">);</span> 
        <span class="k">for</span><span class="p">(</span><span class="n">Point</span> <span class="n">q</span> <span class="p">:</span> <span class="n">qSE</span><span class="p">)</span> <span class="k">result</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>

        <span class="k">return</span> <span class="k">result</span><span class="p">;</span>
    <span class="err">}</span>
</pre></div>


<p><a name="hilbert3-main"></a></p>
<h2>Main Method</h2>
<p>The last part of the code is the portion that loads the points and their labels 
from a file, and populates a Queue of Point objects from it.
This queue of points is then sorted and returned in order.</p>
<div class="highlight"><pre><span></span>    <span class="cm">/** Main driver. */</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="err">{</span> 

        <span class="n">Scanner</span> <span class="k">stdin</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="k">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="p">(</span><span class="k">System</span><span class="p">.</span><span class="k">in</span><span class="p">)));</span>

        <span class="nb">int</span> <span class="n">n</span> <span class="o">=</span> <span class="k">stdin</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span>
        <span class="nb">int</span> <span class="n">S</span> <span class="o">=</span> <span class="k">stdin</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span>

        <span class="o">//</span> <span class="n">n</span> <span class="n">lines</span> <span class="k">of</span> <span class="mi">3</span> <span class="n">tokens</span> <span class="k">each</span>
        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">inputPoints</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="err">{</span> 
            <span class="nb">int</span> <span class="n">x0</span> <span class="o">=</span> <span class="k">stdin</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span>
            <span class="nb">int</span> <span class="n">y0</span> <span class="o">=</span> <span class="k">stdin</span><span class="p">.</span><span class="n">nextInt</span><span class="p">();</span>
            <span class="n">String</span> <span class="n">label</span> <span class="o">=</span> <span class="k">stdin</span><span class="p">.</span><span class="k">next</span><span class="p">();</span>
            <span class="n">inputPoints</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span><span class="n">y0</span><span class="p">,</span><span class="n">label</span><span class="p">));</span>
        <span class="err">}</span>
        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">sortedPoints</span> <span class="o">=</span> <span class="n">hilbertSort</span><span class="p">(</span><span class="n">inputPoints</span><span class="p">,</span> <span class="n">S</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="n">Point</span> <span class="n">p</span> <span class="p">:</span> <span class="n">sortedPoints</span><span class="p">)</span> <span class="err">{</span> 
            <span class="k">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
        <span class="err">}</span>
    <span class="err">}</span>
</pre></div>


<p><a name="hilbert3-refs"></a></p>
<h1>References</h1>
<ol>
<li>
<p>"ACM Pacific Region Programming Competition." Association of Computing Machinery. Accessed 19 June 2017.
&lt;<a href="http://acmicpc-pacnw.org/">http://acmicpc-pacnw.org/</a>&gt;</p>
</li>
<li>
<p>"Hilbert Sort." Git repository, git.charlesreid1.com. Charles Reid. Updated 16 June 2017.
&lt;<a href="https://git.charlesreid1.com/cs/finalproject-143/src/master/hilbert/HilbertSort.java">https://git.charlesreid1.com/cs/finalproject-143/src/master/hilbert/HilbertSort.java</a>&gt;</p>
</li>
</ol>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script></div>

    </div>
</div>

<div class="v20"></div>

<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="tags">
            <p>Tags:&nbsp;&nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/programming.html">programming</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/computer-science.html">computer science</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/final-project.html">final project</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/competitive-programming.html">competitive programming</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/hilbert-sort.html">hilbert sort</a>
                    &nbsp;&nbsp;
                    <a href="https://charlesreid1.github.io/tag/java.html">java</a>
                    &nbsp;&nbsp;
        </div>

    </div>
</div>


<div class="v200"></div>
  	            	</article>

<div class="row">
    <div class="col-md-4 col-centered" style="text-align: center;">

        <div class="pagination">

            <a class="next" href="https://charlesreid1.github.io/index15.html">&larr; Newer</a>

            &nbsp;
            &nbsp;
            &nbsp;
            &nbsp;
            &nbsp;

            <a class="prev" href="https://charlesreid1.github.io/index17.html">Older &rarr;</a>
        
          <br />
        </div>

    </div>
</div>

<div class="v50"></div>


        </div>

        <div class="col-md-4" style="text-align: center;">
<a name="a_archive"></a>


        <div class="well">

            <h2>February 2020</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/python-patterns-the-registry.html">Python Patterns: The Registry</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>December 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/automatically-generating-up-to-date-requirementstxt-for-python-projects.html">Automatically Generating Up-To-Date requirements.txt for Python Projects</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/git-workflows-part-3-refactoring-large-branches-and-pull-requests.html">Git Workflows, Part 3: Refactoring Large Branches and Pull Requests</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>November 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/git-workflows-part-2-crafting-commits.html">Git Workflows, Part 2: Crafting Commits</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>October 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/git-workflows-part-1-supercharging-your-git-config.html">Git Workflows, Part 1: Supercharging your Git Config</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>September 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/mocking-aws-in-unit-tests.html">Mocking AWS in Unit Tests</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>May 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/deconvoluting-convolutional-neural-networks.html">Deconvoluting Convolutional Neural Networks</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/graphs-for-bioinformatics-part-2-finding-eulerian-paths.html">Graphs for Bioinformatics, Part 2: Finding Eulerian Paths</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/graphs-for-bioinformatics-part-1-de-bruijn-graphs-hamiltonian-paths-and-eulerian-paths.html">Graphs for Bioinformatics, Part 1: de Bruijn Graphs, Hamiltonian Paths, and Eulerian Paths</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>April 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/the-git-commit-ectomy.html">The Git-Commit-Ectomy</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>March 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/the-josephus-problem-part-3-solving-the-double-step-case.html">The Josephus Problem: Part 3: Solving the Double Step Case</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/the-josephus-problem-part-2-two-examples.html">The Josephus Problem: Part 2: Two Examples</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/the-josephus-problem-part-1-the-problem.html">The Josephus Problem: Part 1: The Problem</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/approximating-pi-happy-pi-day.html">Approximating Pi (Happy Pi Day)</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/five-letter-words-part-5-the-try-trie-tree.html">Five Letter Words: Part 5: The Try Trie Tree</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/five-letter-words-part-4-revisiting-diff-by-one.html">Five Letter Words: Part 4: Revisiting Diff by One</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/centillion-a-document-search-engine.html">centillion: a document search engine</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>February 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/any-color-you-like-as-long-as-its-00add8.html">Any Color You Like, As Long As It's 00ADD8</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/a-few-of-my-favorite-peps.html">A Few of My Favorite PEPs</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/context-managers-in-python.html">Context Managers in Python</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>January 2019</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/building-snakemake-command-line-wrappers-for-kubernetes-workflows.html">Building Snakemake Command Line Wrappers for Kubernetes Workflows</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/building-snakemake-command-line-wrappers-for-workflows.html">Building Snakemake Command Line Wrappers for Workflows</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/recursive-backtracking-in-go-for-bioinformatics-applications-3-go-implementation-of-backtracking.html">Recursive Backtracking in Go for Bioinformatics Applications: 3. Go Implementation of Backtracking</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>December 2018</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/recursive-backtracking-in-go-for-bioinformatics-applications-2-generating-variations.html">Recursive Backtracking in Go for Bioinformatics Applications: 2. Generating Variations</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/recursive-backtracking-in-go-for-bioinformatics-applications-1-counting-variations.html">Recursive Backtracking in Go for Bioinformatics Applications: 1. Counting Variations</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/basic-data-structures-in-go-maps.html">Basic Data Structures in Go: Maps</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/learning-bioinformatics-with-go-and-rosalind.html">Learning Bioinformatics with Go and Rosalind</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>October 2018</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/first-post-of-the-fall-part-2-flaskadillo.html">First Post of the Fall, Part 2: Flaskadillo</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/first-post-of-the-fall-part-1-data-commons.html">First Post of the Fall, Part 1: Data Commons</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>May 2018</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/current-projects.html">Current Projects</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>March 2018</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/charlesreid1com-stack.html">Charlesreid1.com Stack</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>February 2018</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/d3-calendar-visualizations.html">D3 Calendar Visualizations</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/project-euler-problem-172.html">Project Euler Problem 172</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>January 2018</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/4x4-rubiks-cube-part-4-sequence-order.html">4x4 Rubik's Cube: Part 4: Sequence Order</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/4x4-rubiks-cube-part-3-factoring-permutations.html">4x4 Rubik's Cube: Part 3: Factoring Permutations</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/4x4-rubiks-cube-part-2-permutations.html">4x4 Rubik's Cube: Part 2: Permutations</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/4x4-rubiks-cube-part-1-representations.html">4x4 Rubik's Cube: Part 1: Representations</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/lets-generate-permutations.html">Let's Generate Permutations!</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>September 2017</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/five-letter-words-part-3-letter-coverage-and-dynamic-programming.html">Five Letter Words: Part 3: Letter Coverage and Dynamic Programming</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/five-letter-words-part-2-more-five-word-algorithms.html">Five Letter Words: Part 2: More Five-Word Algorithms</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/five-letter-words-part-1-getting-familiar-with-the-list.html">Five Letter Words: Part 1: Getting Familiar With The List</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>August 2017</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/eulers-theorem-the-totient-function-and-calculating-totients-by-hand.html">Euler's Theorem, the Totient Function, and Calculating Totients By Hand</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>July 2017</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/mad-combinatoric-castles.html">Mad Combinatoric Castles</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/project-euler-problem-1.html">Project Euler Problem 1</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/shortest-lattice-paths-and-multiset-permutations.html">Shortest Lattice Paths and Multiset Permutations</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/computing-square-roots-part-2-using-continued-fractions.html">Computing Square Roots: Part 2: Using Continued Fractions</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/computing-square-roots-part-1-using-newtons-method.html">Computing Square Roots: Part 1: Using Newton's Method</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>June 2017</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/cse-143-final-project-hilbert-sort-3-the-code.html">CSE 143 Final Project: Hilbert Sort: 3. The Code</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/cse-143-final-project-hilbert-sort-2-the-solution-algorithm.html">CSE 143 Final Project: Hilbert Sort: 2. The Solution Algorithm</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/cse-143-final-project-hilbert-sort-1-the-problem.html">CSE 143 Final Project: Hilbert Sort: 1. The Problem</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/cse-143-final-project-classy.html">CSE 143 Final Project: Classy</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/cse-143-final-project-checkers.html">CSE 143 Final Project: Checkers</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>May 2017</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/teaching-recursion-with-the-n-queens-problem.html">Teaching Recursion with the N Queens Problem</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/undergraduate-research-project-wireless-sensor-networks-for-internet-of-things-applications-part-2-the-technologies.html">Undergraduate Research Project: Wireless Sensor Networks for Internet of Things Applications (Part 2: The Technologies)</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/undergraduate-research-project-wireless-sensor-networks-for-internet-of-things-applications-part-1-the-project.html">Undergraduate Research Project: Wireless Sensor Networks for Internet of Things Applications (Part 1: The Project)</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>April 2017</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/stunnel.html">Stunnel</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/traveling-schoolteacher-problem.html">Traveling Schoolteacher Problem</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/the-z-machine-a-simple-turing-machine.html">The Z-Machine: A Simple Turing Machine</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/awsome-day-seattle-notes-part-2-networking-security-and-miscellany.html">AWSome Day Seattle Notes: Part 2: Networking, Security, and Miscellany</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/awsome-day-seattle-notes-part-1-the-basics.html">AWSome Day Seattle Notes: Part 1: The Basics</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/setting-up-a-self-hosted-github-clone-with-gitea.html">Setting Up a Self-Hosted Github Clone with Gitea</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/better-timing-of-guava-traveling-salesperson-problem-code-timing-scripts.html">Better Timing of Guava Traveling Salesperson Problem Code: Timing Scripts</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>March 2017</h2>

            <p class="archive">
            <a href="https://charlesreid1.github.io/fixing-bottlenecks-in-the-guava-traveling-salesperson-problem-code.html">Fixing Bottlenecks in the Guava Traveling Salesperson Problem Code</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/python-vs-perl-n-queens-problem.html">Python vs. Perl: N Queens Problem</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/solving-the-traveling-salesperson-problem-with-java-and-guava.html">Solving the Traveling Salesperson Problem with Java and Guava</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/perl-vs-java-n-queens-problem.html">Perl vs. Java: N Queens Problem</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/enigma-cipher-implementation-part-4-combinatorics.html">Enigma Cipher Implementation: Part 4: Combinatorics</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/enigma-cipher-implementation-part-3-enigma-in-java-without-objects.html">Enigma Cipher Implementation: Part 3: Enigma in Java Without Objects</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/enigma-cipher-implementation-part-2-pseudocode.html">Enigma Cipher Implementation: Part 2: Pseudocode</a>
            </p>
            <p class="archive">
            <a href="https://charlesreid1.github.io/enigma-cipher-implementation-part-1-how-it-works.html">Enigma Cipher Implementation: Part 1: How It Works</a>
            </p>

        </div>

        <div class="v20"></div>



<div class="v100"></div>
        </div>

    </div>



</div>



<script type="text/javascript" src="https://charlesreid1.github.io/theme/js/jquery-1.11.2.js"></script>
<script type="text/javascript" src="https://charlesreid1.github.io/theme/js/bootstrap-3.3.4.js"></script>
<script type="text/javascript" src="https://charlesreid1.github.io/theme/js/d3-3.5.5.js"></script><script type="text/javascript" src="https://charlesreid1.github.io/theme/js/jquery-1.11.2.js"></script>
<script type="text/javascript" src="https://charlesreid1.github.io/theme/js/bootstrap-3.3.4.js"></script>

<footer id="contentinfo" class="body">
<p>&nbsp;</p>
<p>&nbsp;</p>
<center>
	<hr />
</center>
<p>&nbsp;</p>
<p style="text-align: center">
    <span class="fa-stack fa-lg">
        <i class="fa fa-square fa-stack-2x" style="color:#000;"></i>
        <i class="fa fa-terminal fa-stack-1x fa-inverse"></i>
    </span>
    Made from the command line with vim by 
    <a href="http://charlesreid1.com">charlesreid1</a><br />
    with help from <a href="https://getbootstrap.com/">Bootstrap</a> and <a href="http://getpelican.com">Pelican</a>.
</p>

<br />

<p style="text-align: center">
    <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
    <span class="fa-stack fa-lg">
        <i class="fa fa-square fa-stack-2x" style="color:#000;"></i>
        <i class="fa fa-creative-commons fa-stack-1x fa-inverse"></i>
    </span>
    </a>
    <br />
    Licensed under the <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 License</a>.
</p>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=11611748;
var sc_invisible=1;
var sc_security="9fcba820";
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>

<noscript><div class="statcounter"><a title="Web Analytics"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11611748/0/9fcba820/1/" alt="Web
Analytics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</footer><!-- /#contentinfo -->
</body>
</html>