<!DOCTYPE html>
<html lang="en">
<head>
        <title>charlesreid1</title>
        <meta charset="utf-8" />

        <!--
        CSS styles
        -->
        <link href="/theme/css/bootstrap.css"       rel="stylesheet" type="text/css">
        <link href="/theme/css/slate.css"              rel="stylesheet" type="text/css">
        <link href="/theme/css/font-awesome.css"       rel="stylesheet" type="text/css"/>
        <link href="/theme/css/pygment-solarized.css"  rel="stylesheet" type="text/css"/>

        <!--
        my CSS styles
        -->
        <link href="/theme/css/main.css"            rel="stylesheet" type="text/css">
        <link href="/theme/css/dox.css"             rel="stylesheet" type="text/css">


        <!--
        include Angular first
        -->
        <script type="text/javascript" src="/theme/js/angular-1.3.15.js"></script>
        <script type="text/javascript" src="/theme/js/skrollr-0.6.29.js"></script>
        <script type="text/javascript" src="/theme/js/d3-3.5.5.js"></script>

        <!--
        this seems like a bad idea.
        but if I don't put jquery first, I get errors about unrecognized $s.
        -->
        <script type="text/javascript" src="/theme/js/jquery-1.11.2.js"></script>

</head>
<body id="index">
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span> 
            </button>
            <a href="https://charlesreid1.github.io" class="navbar-brand">charlesreid1.github.io</a>
        </div>
        <div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">

                    <li>
                        <a href="https://charlesreid1.com/wiki">Wiki</a>
                    </li>
                    <li>
                        <a href="https://git.charlesreid1.com/explore">Git</a>
                    </li>
                    <li>
                        <a href="http://spotify.charlesreid1.com">Music</a>
                    </li>
                    <li>
                        <a href="https://charlesreid1.com/life">Life</a>
                    </li>
                    <li>
                        <a href="https://charlesreid1.github.io">Blog</a>
                    </li>
                    <li>
                        <a href="https://charlesreid1.com/about">About Me</a>
                    </li>

                </ul>
            </div>
        </div>
    </div>
</nav>



<div class="container">

    <div class="row">
        <div class="col-md-12 col-centered" style="text-align: center;">
            <div class="v50"></div>
            <div class="cosmojumbo">
                <h1 class="jumbojumbo">charlesreid1.com blog<h1>
            </div>
        </div>
    </div>


    <div class="v50"></div>


    <div class="row">

        <div class="col-md-8" style="text-align: center;">

  	            	<article>
<header>
<div class="row">


    <div class="col-md-12">
        <div class="headtext" style="text-align: center;">
            <h1><b>
                Basic Data Structures in Go: Maps
            </b></h1>
        
            <p class="lead">
                Posted 
                <time datetime="2018-12-20T17:00:00-08:00" pubdate>Thursday 12/20/2018</time>
                in 
                <a href="/category/rosalind.html">Rosalind</a>
                </p>
            <p>
            <span style="font-size: 14px">
                <a href="/basic-data-structures-in-go-maps.html">permalink</a>
            </span>
            </p>
        </div>

    </div>

</div>
</header>


<div class="v50"></div>


<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="entry-content"><h2>Basic Data Structures in Go: Maps</h2>
<p>Continuing with our series of blog posts on what
we've been learning about Go in the process of solving
problems on Rosalind.info, this post will cover how 
some basic data structures work in Go, and how we
used each to solve problems from the Chapter 1 Rosalind
problems.</p>
<h2>Maps</h2>
<p>The simplest way to describe a map is to say it is a
structure useful for storing key-value pairs.</p>
<p>Before we walk through what maps look like in Go, let's
talk about what a map is (in the data structure sense).
And to do that, it's useful to talk a bit about mathematical
functions and maps in the mathematical sense.</p>
<h3>What is a map</h3>
<p>The term "map" is taken from mathematics. A map is just a
relationship - a general term, but still useful. Most 
mathematics courses deal with functions, which are formally 
defined as <strong>maps</strong> from one set of numbers onto another,
such that one input corresponds to one output.</p>
<p>A (data structure) map, similarly, is a relationship between
two sets - a key set, and a value set. Each key corresponds
to only one value. </p>
<p>Maps are typically stored under the hood as either a hash
map (which does not sort keys and has very fast O(1), or
constant time, operations) or a tree map (which sorts keys 
using a binary tree and has slower O(log N) operations).</p>
<h3>Map notation in Go</h3>
<p>In Go, map types are denoted <code>map[keyType]valueType</code>.</p>
<p>For example, to map strings to integers, we would use
a map of type <code>map[string]int</code>. </p>
<p>We create a map variable by declaring its type:</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">m</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
</pre></div>


<p>However, this does not allocate any space for the map,
and trying to add keys to the map at this point would
result in an error.</p>
<p>We need to actually allocate space for the map. In Go,
you can allocate space for a map two ways: first, using
Go's built-in <code>make()</code> function; and second, by creating
and populating the map in one line.</p>
<h3>Using <code>make()</code> with maps</h3>
<p>To allocate space for a map, you can use the <code>make()</code>
function and pass it the map type. This will actually
create space in memory for the map, and allow you to 
add items or look up keys in the map.</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">m</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
<span class="nx">m</span> <span class="p">=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span>
</pre></div>


<h3>Creating and populating</h3>
<p>If you want to create and populate the map in one line,
you can specify the type, then have trailing brackets
containing the items you want to add:</p>
<div class="highlight"><pre><span></span><span class="c1">// Create an empty map</span>
<span class="nx">m</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1">// Create and populate a map</span>
<span class="nx">m</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="s">&quot;A&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s">&quot;T&quot;</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span> <span class="s">&quot;G&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> <span class="s">&quot;C&quot;</span><span class="p">:</span><span class="mi">25</span><span class="p">}</span>
</pre></div>


<h3>Zero values</h3>
<p>One feature of maps that makes them really easy to work
with is, if you try and look up a key, and the key does
not exist in the map, the map will not raise an exception
(which Python does), it will return the zero value of 
the value type. </p>
<p>For example, the zero value of the <code>int</code> type is 0, 
so if we create a map like <code>m := map[string]int{"A":10}</code>
and we then look up a key that isn't in the map, like 
<code>m["G"]</code>, Go will return 0.</p>
<p>Similarly, the zero value for booleans is false, so you
can utilize the zero value behavior to create a set data
structure using maps. By creating a <code>map[keyType]bool</code>
map, you can use the boolean value to indicate membership
of a key in the given set. Then, if you look up keys that
do not exist in the map, Go will return the zero value of
booleans by default, which will be false.</p>
<h3>Easy iterating over maps</h3>
<p>It is easy to iterate over maps using the <code>range</code> keyword
in Go, which will return the keys (optionally, both keys 
and values) of the map in a loop:</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">m</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span>
        <span class="s">&quot;ABC&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> 
        <span class="s">&quot;DEF&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span> 
        <span class="s">&quot;GHI&quot;</span><span class="p">:</span><span class="mi">30</span>
<span class="p">}</span>

<span class="k">for</span> <span class="nx">k</span><span class="p">,</span><span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">m</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Key:&quot;</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="s">&quot; --&gt; Value:&quot;</span><span class="p">,</span><span class="nx">v</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<h2>Example: Assembling kmer histogram</h2>
<p>Here is an example using maps: this function assembles
a kmer histogram from a strand of DNA base pairs. To do
this, it loops over every codon in the DNA strand and
increments a counter in a map. Finally, this histogram
map is returned. (This function is useful for determining
the most frequent kmer.)</p>
<p>Here's the whole function that helps solve Rosalind problem
BA1B. We'll look at it piece by piece below: </p>
<div class="highlight"><pre><span></span><span class="c1">// Return the histogram of kmers of length k </span>
<span class="c1">// found in the given input</span>
<span class="kd">func</span> <span class="nx">KmerHistogram</span><span class="p">(</span><span class="nx">input</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">k</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span><span class="kt">error</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">result</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{}</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">input</span><span class="p">)&lt;</span><span class="mi">1</span> <span class="p">{</span>
        <span class="nx">err</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;Error: input string was not DNA. Only characters ATCG are allowed, you had %s&quot;</span><span class="p">,</span><span class="nx">input</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">result</span><span class="p">,</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// Number of substring overlaps</span>
    <span class="nx">overlap</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="o">-</span> <span class="nx">k</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="c1">// If overlap &lt; 1, we are looking</span>
    <span class="c1">// for kmers longer than our input</span>
    <span class="k">if</span> <span class="nx">overlap</span><span class="p">&lt;</span><span class="mi">1</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">result</span><span class="p">,</span><span class="kc">nil</span>
    <span class="p">}</span>

    <span class="c1">// Iterate over each position,</span>
    <span class="c1">// extract the string,</span>
    <span class="c1">// increment the count.</span>
    <span class="k">for</span> <span class="nx">i</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="p">&lt;</span><span class="nx">overlap</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="c1">// Get the kmer of interest</span>
        <span class="nx">substr</span> <span class="o">:=</span> <span class="nx">input</span><span class="p">[</span><span class="nx">i</span><span class="p">:</span><span class="nx">i</span><span class="o">+</span><span class="nx">k</span><span class="p">]</span>

        <span class="c1">// If it doesn&#39;t exist, the value is 0</span>
        <span class="nx">result</span><span class="p">[</span><span class="nx">substr</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">result</span><span class="p">,</span><span class="kc">nil</span>
<span class="p">}</span>
</pre></div>


<h3>Function Walkthrough</h3>
<p>The first thing you'll notice is the comment style:
there is a comment right before each function, which
is common practice in Go, because comments that come
before a function are picked up by <code>godoc</code> (the Go
documentation tool) and turned into documentation.</p>
<div class="highlight"><pre><span></span><span class="c1">// Return the histogram of kmers of length k </span>
<span class="c1">// found in the given input</span>
<span class="kd">func</span> <span class="nx">KmerHistogram</span><span class="p">(</span><span class="nx">input</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">k</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span><span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</pre></div>


<p>Go has internalized the idea that comments are a part
of the documentation, so comments don't need to be 
formatted in any special way (like <code>/// this</code> or <code>/** this */</code>
business) to end up being picked up by godoc.</p>
<p>Next, we create an empty map (kmer strings to integer
frequency counters) and stride over the entire input string
with a window the size of the kmers we are interested in,
adding or incrementing each corresponding counter in the map
as we go.</p>
<p>The overlap variable is the number of possible kmers of length
<code>k</code> in the entire input string, which requires a bit of algebra
to gt the indices right:</p>
<div class="highlight"><pre><span></span>    <span class="c1">// Number of substring overlaps</span>
    <span class="nx">overlap</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="o">-</span> <span class="nx">k</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>


<p>The for loop utilizes Go's slice notation to take a slice of
the string (which does not require creating or duplicating any
string data), and uses the extracted kmer as a key to add or 
increment the counter: </p>
<div class="highlight"><pre><span></span>    <span class="c1">// Iterate over each position,</span>
    <span class="c1">// extract the string,</span>
    <span class="c1">// increment the count.</span>
    <span class="k">for</span> <span class="nx">i</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="p">&lt;</span><span class="nx">overlap</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="c1">// Get the kmer of interest</span>
        <span class="nx">substr</span> <span class="o">:=</span> <span class="nx">input</span><span class="p">[</span><span class="nx">i</span><span class="p">:</span><span class="nx">i</span><span class="o">+</span><span class="nx">k</span><span class="p">]</span>

        <span class="c1">// If it doesn&#39;t exist, the value is 0</span>
        <span class="nx">result</span><span class="p">[</span><span class="nx">substr</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="p">}</span>
</pre></div>


<p>This is where the behavior of maps for non-existent keys comes
in handy - in Go, if you ask for a key that does not exist
in the map, the map will return the zero value of the specified
type. </p>
<p>This statement:</p>
<div class="highlight"><pre><span></span>        <span class="nx">result</span><span class="p">[</span><span class="nx">substr</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>


<p>can also be written as:</p>
<div class="highlight"><pre><span></span>        <span class="nx">result</span><span class="p">[</span><span class="nx">substr</span><span class="p">]</span> <span class="p">=</span> <span class="nx">result</span><span class="p">[</span><span class="nx">substr</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>


<p>So, the first time a kmer (stored in <code>substr</code>) is encountered, the
kmer will not exist as a key in the map, and the key lookup on the 
right hand side will return 0, incrementing the counter to 1
the first time the kmer is encountered.</p>
<p>Subsequent times the kmer is encountered, the value will be found 
and substituted on the right side so it will be incremented by 1.</p>
<p>Finally, when we return from the function, we can use a Python-like
syntax of returning multiple values separated by commas, yet
another great feature of Go: </p>
<div class="highlight"><pre><span></span>    <span class="k">return</span> <span class="nx">result</span><span class="p">,</span><span class="kc">nil</span>
<span class="p">}</span>
</pre></div>


<p>By convention, the return types of functions will include an error type 
at the very end, so if you had a function named <code>ExampleFunction</code> that 
returned three integers, the function definition would look like this:</p>
<div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">ExampleFunction</span><span class="p">()</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">...</span>    
<span class="p">}</span>
</pre></div>


<p>Additionally, we also see from the function's return statement
above that we can use the reserved keyword <code>nil</code> to set a variable
to a null value, and that the convention is to return <code>nil</code> in place
of the error, so that in the calling function we can set up a structure
like this:</p>
<div class="highlight"><pre><span></span>a, b, c, err := ExampleFunction()

if err != nil {
    err := &quot;Please read this important message&quot;
    return -1,-1,-1,errors.New(err)
}
</pre></div>


<h2>Summary</h2>
<p>Maps are my favorite data structure, so I'm glad that they're
easy to use in Go. Some important points about using
maps in Go:</p>
<ul>
<li>
<p>Declaring a variable as a map type does not allocate any space
  for the map; saying <code>var m map[keyType]valueType</code> and then 
  trying to access keys will cause an exception.</p>
</li>
<li>
<p>To allcoate space for a map, use <code>make(map[keyType]valueType)</code> 
  or instantiate with the <code>{}</code> notation, like 
  <code>m := map[keyType]valueType{"asdf":1}</code></p>
</li>
<li>
<p>To ask for a key, use the square bracket notation. To set a value
  for a key, use the square bracket notation on the left and assign
  a value on the right: <code>m[my_key] = my_value</code></p>
</li>
<li>
<p>Asking for missing keys will return the zero value of whatever
  type the map values are. </p>
</li>
<li>
<p>Iterating over key-value pairs in a map using a for loop is easy
  using the built-in <code>range</code> keyword.</p>
</li>
</ul>
<h2>Addendum: Check if a Key is in a Map</h2>
<p>Because of the default behavior of maps, where they return a zero value for
keys that do not exist in the map, it is not immediately obvious how to
differentiate between the case where a key is in a map already and has a zero
value, versus the case where the key does not yet exist in the map and the zero
value is only being returned because the key can't be found.</p>
<p>To resolve this, we can use two Go features: error-checking, and the underscore - 
a variable that serves as a one-way sink for information, and serves a similar
purpose to the underscore in Python.</p>
<p>First, we mentioned above that various operations that can return errors will return
an error type as the last return type, along with any other return values.
This includes the operation of accessing a key. To assign the value and the error
to variables at once:</p>
<div class="highlight"><pre><span></span><span class="nx">v</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">[</span><span class="nx">my_key</span><span class="p">]</span>
</pre></div>


<p>Now, to check if the key exists in the map, we are only concerned with the variable
<code>err</code> and we don't really need the variable <code>v</code>. Instead of assigning <code>v</code> to a variable
that we never use, and then having the Go compiler complain about it, we can use the
underscore as a placeholder:</p>
<div class="highlight"><pre><span></span><span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">[</span><span class="nx">my_key</span><span class="p">]</span>
</pre></div>


<p>Now, we just add a check for whether <code>err</code> is nil, and voila, we have our check of
whether a key is in the map or not:</p>
<div class="highlight"><pre><span></span><span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">[</span><span class="nx">my_key</span><span class="p">]</span>

<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="c1">// This key is missing from the map</span>

<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// This key already exists in the map</span>

<span class="p">}</span>
</pre></div></div>

    </div>
</div>

<div class="v20"></div>

<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="tags">
            <p>Tags:&nbsp;&nbsp;&nbsp;
                    <a href="/tag/go.html">go</a>
                    &nbsp;&nbsp;
                    <a href="/tag/golang.html">golang</a>
                    &nbsp;&nbsp;
                    <a href="/tag/rosalind.html">rosalind</a>
                    &nbsp;&nbsp;
                    <a href="/tag/bioinformatics.html">bioinformatics</a>
                    &nbsp;&nbsp;
                    <a href="/tag/maps.html">maps</a>
                    &nbsp;&nbsp;
        </div>

    </div>
</div>


<div class="v200"></div>
  	            	</article>
  	            	<article>
<header>
<div class="row">


    <div class="col-md-12">
        <div class="headtext" style="text-align: center;">
            <h1><b>
                Learning Bioinformatics with Go and Rosalind
            </b></h1>
        
            <p class="lead">
                Posted 
                <time datetime="2018-12-18T20:00:00-08:00" pubdate>Tuesday 12/18/2018</time>
                in 
                <a href="/category/rosalind.html">Rosalind</a>
                </p>
            <p>
            <span style="font-size: 14px">
                <a href="/learning-bioinformatics-with-go-and-rosalind.html">permalink</a>
            </span>
            </p>
        </div>

    </div>

</div>
</header>


<div class="v50"></div>


<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="entry-content"><h2>Learning Go with Rosalind</h2>
<h3>What is Rosalind?</h3>
<p>Rosalind.info is a website with programming challenges, similar in spirit
to <a href="https://charlesreid1.com/wiki/Project_Euler">Project Euler</a>, but with
a focus on bioinformatics. </p>
<p>Problems in the bioinformatics track are presented grouped by chapter,
with several problems per chapter. The problems are designed like a coding
competition, with problems providing structured input files and expecting
structured output from each calculation. Each time you solve a problem, a
unique input is generated, and you have a time limit in which to run your
code to solve the problem.</p>
<h3>What is Go?</h3>
<p>Go is a programming language that is static, compiled, and concurrent.
It is essentially intended as a modern replacement to C and C++, and is
designed for more modern hardware, networks, and scale of code projects.</p>
<p>Go is a language that was invented in Google. It provides some very
powerful features, and its design for concurrency is the primary feature
that motivated me to learn Go. See 
<a href="https://blog.golang.org/concurrency-is-not-parallelism">this Go blog post</a>
on "Concurrency is not parallelism" for a more in-depth discussion of
Go's concurrency design, and how that is different from (and more general
and more powerful than) parallelism.</p>
<h2>Initial Impression of Go</h2>
<p>My initial impression of Go has been positive thus far.</p>
<h3>Syntax</h3>
<p>The first thing about Go that we will remark on is the syntax - it 
is unusual because it reverses the order that most programming languages
use for variable and type declarations. </p>
<p>For example, in Java, you declare an integer array like this:</p>
<div class="highlight"><pre><span></span>public int[5] arr;
</pre></div>


<p>while in Go, you would declare an analogous data structure like this:</p>
<div class="highlight"><pre><span></span>var arr [5]int
</pre></div>


<p>While this reversal is a bit confusing at first, it is different enough 
from other languages that it easily sticks in your head - which is actually
a welcome change from the stew of slightly-different-but-largely-overlapping 
syntax occurring across common programming languages.</p>
<p>Go also shares many of the features that make Python such an easy language
to use, including lack of semicolons (yay!) and a useful selection of built-in
methods. </p>
<h3>Godoc</h3>
<p>One of the handiest features of Go is <code>godoc</code>, a command-line utility that runs
a local web server at <code>http:8080</code> that serves up Go documentation. This includes
documentation for the standard Go library, as well as documentation for any
libraries found in the Go PATH.</p>
<h3>Environment Variables</h3>
<p>Speaking of the Go PATH, one confusing thing about getting started with Go is
all of the environment variables that must be set for Go to find various things.</p>
<p>Basically, you need to have two directories for Go: the location of your Go tree,
and the directory where you store Go packages and executables.</p>
<ul>
<li>
<p><code>$GOROOT</code> refers to the location of your Go tree. For example, this might be the
  directory <code>~/go</code>.</p>
</li>
<li>
<p><code>$GOPATH</code> refers to the location where your Go packages and executables are stored.
  For example, this might be <code>~/work</code>.</p>
</li>
</ul>
<p>Both of these variables should be set in your <code>~/.profile</code>.</p>
<p>See <a href="https://charlesreid1.com/wiki/Go/Installing#Paths">Go/Installing</a> on the 
charlesreid1 wiki for coverage of getting set up with Go.</p>
<h3>Arrays and Slices</h3>
<p>The first concept in Go that threw me off was the concept of arrays versus slices.
This was principally due to the poor explanation and choice of examples given on the
Go blog post on how slices work.</p>
<p>Arrays are chunks of memory that are set aside to store contiguous slots for data.
To create an array, its size must be known in advance, making them less useful
in practice. To resize an array, a new array must be created, and the old array
copied into the new array.</p>
<p>Slices, on the other hand, can be thought of as tiny data structures
containing pointers to array data. Slices can easily be resized by changing the
data structure, without changing the underlying data.</p>
<p>There are also built-in <code>make()</code> and <code>copy()</code> functions, to allocate slices
that have a specified capacity (or none, in which case the slice has a variable 
size) and copy data from arrays to slices or from slice to slice.</p>
<p>The confusion around such a fundamental data type makes Go more difficult to learn
and to intuit about what's going on. While Go is clearly superior to C and Java
in many ways, it also has some unfortunate stumbling blocks in its most basic
data structure that many early learners are sure to have trouble with.</p>
<h2>Learning a New Language</h2>
<p>One of the things that stood out to me while learning Go was how different it was
from learning a non-language systems technology (library) like Docker or docker-compose, 
or Ansible. </p>
<p>When you are learning a second or third programming language, you generally have a
mental roadmap of concepts, and how they fit together and build upon each other.
Furthermore, you already know, before ever starting to learn the language, what
that roadmap of concepts generally looks like, from your prior learnings.</p>
<p>(If you pick up and compare any dozen books on various programming languages, 
you'll find certain core concepts that are repeated from book to book.)</p>
<p>Compare this with a technology like Ansible, an extremely powerful Python library
that is used for automation of IT and compute infrastructure. While extremely powerful,
Ansible is also extremely complex, and feels bewildering to learn because
it requires all users (including seasoned experts in Unix shell scripting), to 
re-learn an entirely new way of doing things using Ansible's system of modules 
and YAML syntax.</p>
<p>Ansible has no conceptual roadmap. The Ansible documentation moves somewhat
haphazardly through the many topics that must be covered but that don't fit
together.  Books that cover Ansible often follow the documentation's
organization, or have a similarly confused organization of concepts.
There is no denying it's a great piece of software, but it is very difficult
to reason about and teach compared to a computer language.</p>
<h2>Core Concepts</h2>
<p>The first few Rosalind problems from Chapter 1
were an excellent warm-up to get to know Go,
since the tasks were relatively easy and the
main bit to work out was how to use the data
structure correctly, rather than the algorithm.</p>
<p>Three data structures that we ended up utilizing 
to solve the Chapter 1 challenges using Go were:</p>
<ul>
<li>Hash maps</li>
<li>Strings</li>
<li>Bit vectors</li>
</ul>
<p>More coverage of how these data structures work in Go,
plus details of how we used them to solve Rosalind
probelms, to follow in the next blog post.</p></div>

    </div>
</div>

<div class="v20"></div>

<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="tags">
            <p>Tags:&nbsp;&nbsp;&nbsp;
                    <a href="/tag/go.html">go</a>
                    &nbsp;&nbsp;
                    <a href="/tag/golang.html">golang</a>
                    &nbsp;&nbsp;
                    <a href="/tag/rosalind.html">rosalind</a>
                    &nbsp;&nbsp;
                    <a href="/tag/bioinformatics.html">bioinformatics</a>
                    &nbsp;&nbsp;
        </div>

    </div>
</div>


<div class="v200"></div>
  	            	</article>
  	            	<article>
<header>
<div class="row">


    <div class="col-md-12">
        <div class="headtext" style="text-align: center;">
            <h1><b>
                First Post of the Fall, Part 2: Flaskadillo
            </b></h1>
        
            <p class="lead">
                Posted 
                <time datetime="2018-10-30T16:00:00-07:00" pubdate>Tuesday 10/30/2018</time>
                in 
                <a href="/category/python.html">Python</a>
                </p>
            <p>
            <span style="font-size: 14px">
                <a href="/first-post-of-the-fall-part-2-flaskadillo.html">permalink</a>
            </span>
            </p>
        </div>

    </div>

</div>
</header>


<div class="v50"></div>


<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="entry-content"><h2>Flask + ILLO = Flaskadillo</h2>
<p>On October 15, 2018, I had the opportunity to 
offer an in-lab learning opportunity (ILLO) at the 
<a href="http://ivory.idyll.org/lab/">Lab for Data Intensive Biology</a>.
The ILLO focused on Flask, a useful Python library
for creating and running web servers. This
library is useful because it has a very low
learning curve, but also has the complexity to
handle complicated, real-world projects.</p>
<p>As a part of this in-lab learning opportunity, 
I created repository with five simple Flask examples
to highlight five useful capabilities of Flask.</p>
<p>The repository is called flaskadillo and it is 
available on <a href="https://git.charlesreid1.com/charlesreid1/flaskadillo/">git.charlesreid1.com</a>
or on <a href="https://github.com/charlesreid1/flaskadillo">github.com</a>.</p>
<p>The five capabilities covered by the examples in 
flaskadillo are listed below:</p>
<ol>
<li>
<p>hello - hello world flask server</p>
</li>
<li>
<p>api - a simple API server</p>
</li>
<li>
<p>jinja - a simple Flask server that makes use of Jinja templates</p>
</li>
<li>
<p>package - a simple demonstration of how to package flask apps</p>
</li>
<li>
<p>tests - a simple demonstration of how to write Flask tests</p>
</li>
</ol>
<h2>Example 1: Hello World</h2>
<p>We'll just cover example 1 here, but similar materials
are available for all five examples.</p>
<p>Example 1 consists of a simple flask app, <code>simple.py</code>:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Hello World!&quot;</span>
</pre></div>


<p>The <a href="https://git.charlesreid1.com/charlesreid1/flaskadillo/src/branch/master/hello">hello</a>
directory of the flaskadillo repo covers how to 
install the necessary packages and run the Flask
application.</p>
<p>There is also a unit test, <code>test_simple.py</code>, which demonstrates
how to write tests for Flask applications. To run the unit
test, run:</p>
<div class="highlight"><pre><span></span>pytest
</pre></div>


<h2>More Information</h2>
<p>For instructions on each of the 5 examples, 
visit each of the 5 directories in the 
<a href="https://github.com/charlesreid1/flaskadillo">flaskadillo repository</a>.</p>
<h3>Why flaskadillo?</h3>
<p>Because armadillo.</p>
<h3>Why armadillo?</h3>
<p>The word armadillo means "little armoured one" in Spanish.</p>
<p>Armadillos are related to anteaters and sloths (all are in the Xenartha superorder).</p>
<p>The Aztecs called them turtle-rabbits.</p></div>

    </div>
</div>

<div class="v20"></div>

<div class="row">
    <div class="col-md-12" style="text-align: left;">

        <div class="tags">
            <p>Tags:&nbsp;&nbsp;&nbsp;
                    <a href="/tag/github.html">Github</a>
                    &nbsp;&nbsp;
                    <a href="/tag/software.html">Software</a>
                    &nbsp;&nbsp;
                    <a href="/tag/python.html">Python</a>
                    &nbsp;&nbsp;
                    <a href="/tag/flask.html">Flask</a>
                    &nbsp;&nbsp;
        </div>

    </div>
</div>


<div class="v200"></div>
  	            	</article>

<div class="row">
    <div class="col-md-4 col-centered" style="text-align: center;">

        <div class="pagination">

            <a class="next" href="/index2.html">&larr; Newer</a>

            &nbsp;
            &nbsp;
            &nbsp;
            &nbsp;
            &nbsp;

            <a class="prev" href="/index4.html">Older &rarr;</a>
        
          <br />
        </div>

    </div>
</div>

<div class="v50"></div>


        </div>

        <div class="col-md-4" style="text-align: center;">
<a name="a_archive"></a>


        <div class="well">

            <h2>February 2019</h2>

            <p class="archive">
            <a href="/context-managers-in-python.html">Context Managers in Python</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>January 2019</h2>

            <p class="archive">
            <a href="/building-snakemake-command-line-wrappers-for-kubernetes-workflows.html">Building Snakemake Command Line Wrappers for Kubernetes Workflows</a>
            </p>
            <p class="archive">
            <a href="/building-snakemake-command-line-wrappers-for-workflows.html">Building Snakemake Command Line Wrappers for Workflows</a>
            </p>
            <p class="archive">
            <a href="/recursive-backtracking-in-go-for-bioinformatics-applications-3-go-implementation-of-backtracking.html">Recursive Backtracking in Go for Bioinformatics Applications: 3. Go Implementation of Backtracking</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>December 2018</h2>

            <p class="archive">
            <a href="/recursive-backtracking-in-go-for-bioinformatics-applications-2-generating-variations.html">Recursive Backtracking in Go for Bioinformatics Applications: 2. Generating Variations</a>
            </p>
            <p class="archive">
            <a href="/recursive-backtracking-in-go-for-bioinformatics-applications-1-counting-variations.html">Recursive Backtracking in Go for Bioinformatics Applications: 1. Counting Variations</a>
            </p>
            <p class="archive">
            <a href="/basic-data-structures-in-go-maps.html">Basic Data Structures in Go: Maps</a>
            </p>
            <p class="archive">
            <a href="/learning-bioinformatics-with-go-and-rosalind.html">Learning Bioinformatics with Go and Rosalind</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>October 2018</h2>

            <p class="archive">
            <a href="/first-post-of-the-fall-part-2-flaskadillo.html">First Post of the Fall, Part 2: Flaskadillo</a>
            </p>
            <p class="archive">
            <a href="/first-post-of-the-fall-part-1-data-commons.html">First Post of the Fall, Part 1: Data Commons</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>May 2018</h2>

            <p class="archive">
            <a href="/current-projects.html">Current Projects</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>March 2018</h2>

            <p class="archive">
            <a href="/charlesreid1com-stack.html">Charlesreid1.com Stack</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>February 2018</h2>

            <p class="archive">
            <a href="/d3-calendar-visualizations.html">D3 Calendar Visualizations</a>
            </p>
            <p class="archive">
            <a href="/project-euler-problem-172.html">Project Euler Problem 172</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>January 2018</h2>

            <p class="archive">
            <a href="/4x4-rubiks-cube-part-4-sequence-order.html">4x4 Rubik's Cube: Part 4: Sequence Order</a>
            </p>
            <p class="archive">
            <a href="/4x4-rubiks-cube-part-3-factoring-permutations.html">4x4 Rubik's Cube: Part 3: Factoring Permutations</a>
            </p>
            <p class="archive">
            <a href="/4x4-rubiks-cube-part-2-permutations.html">4x4 Rubik's Cube: Part 2: Permutations</a>
            </p>
            <p class="archive">
            <a href="/4x4-rubiks-cube-part-1-representations.html">4x4 Rubik's Cube: Part 1: Representations</a>
            </p>
            <p class="archive">
            <a href="/lets-generate-permutations.html">Let's Generate Permutations!</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>September 2017</h2>

            <p class="archive">
            <a href="/five-letter-words-part-3-letter-coverage-and-dynamic-programming.html">Five Letter Words: Part 3: Letter Coverage and Dynamic Programming</a>
            </p>
            <p class="archive">
            <a href="/five-letter-words-part-2-more-five-word-algorithms.html">Five Letter Words: Part 2: More Five-Word Algorithms</a>
            </p>
            <p class="archive">
            <a href="/five-letter-words-part-1-getting-familiar-with-the-list.html">Five Letter Words: Part 1: Getting Familiar With The List</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>August 2017</h2>

            <p class="archive">
            <a href="/eulers-theorem-the-totient-function-and-calculating-totients-by-hand.html">Euler's Theorem, the Totient Function, and Calculating Totients By Hand</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>July 2017</h2>

            <p class="archive">
            <a href="/mad-combinatoric-castles.html">Mad Combinatoric Castles</a>
            </p>
            <p class="archive">
            <a href="/project-euler-problem-1.html">Project Euler Problem 1</a>
            </p>
            <p class="archive">
            <a href="/shortest-lattice-paths-and-multiset-permutations.html">Shortest Lattice Paths and Multiset Permutations</a>
            </p>
            <p class="archive">
            <a href="/computing-square-roots-part-2-using-continued-fractions.html">Computing Square Roots: Part 2: Using Continued Fractions</a>
            </p>
            <p class="archive">
            <a href="/computing-square-roots-part-1-using-newtons-method.html">Computing Square Roots: Part 1: Using Newton's Method</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>June 2017</h2>

            <p class="archive">
            <a href="/cse-143-final-project-hilbert-sort-3-the-code.html">CSE 143 Final Project: Hilbert Sort: 3. The Code</a>
            </p>
            <p class="archive">
            <a href="/cse-143-final-project-hilbert-sort-2-the-solution-algorithm.html">CSE 143 Final Project: Hilbert Sort: 2. The Solution Algorithm</a>
            </p>
            <p class="archive">
            <a href="/cse-143-final-project-hilbert-sort-1-the-problem.html">CSE 143 Final Project: Hilbert Sort: 1. The Problem</a>
            </p>
            <p class="archive">
            <a href="/cse-143-final-project-classy.html">CSE 143 Final Project: Classy</a>
            </p>
            <p class="archive">
            <a href="/cse-143-final-project-checkers.html">CSE 143 Final Project: Checkers</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>May 2017</h2>

            <p class="archive">
            <a href="/teaching-recursion-with-the-n-queens-problem.html">Teaching Recursion with the N Queens Problem</a>
            </p>
            <p class="archive">
            <a href="/undergraduate-research-project-wireless-sensor-networks-for-internet-of-things-applications-part-2-the-technologies.html">Undergraduate Research Project: Wireless Sensor Networks for Internet of Things Applications (Part 2: The Technologies)</a>
            </p>
            <p class="archive">
            <a href="/undergraduate-research-project-wireless-sensor-networks-for-internet-of-things-applications-part-1-the-project.html">Undergraduate Research Project: Wireless Sensor Networks for Internet of Things Applications (Part 1: The Project)</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>April 2017</h2>

            <p class="archive">
            <a href="/stunnel.html">Stunnel</a>
            </p>
            <p class="archive">
            <a href="/traveling-schoolteacher-problem.html">Traveling Schoolteacher Problem</a>
            </p>
            <p class="archive">
            <a href="/the-z-machine-a-simple-turing-machine.html">The Z-Machine: A Simple Turing Machine</a>
            </p>
            <p class="archive">
            <a href="/awsome-day-seattle-notes-part-2-networking-security-and-miscellany.html">AWSome Day Seattle Notes: Part 2: Networking, Security, and Miscellany</a>
            </p>
            <p class="archive">
            <a href="/awsome-day-seattle-notes-part-1-the-basics.html">AWSome Day Seattle Notes: Part 1: The Basics</a>
            </p>
            <p class="archive">
            <a href="/setting-up-a-self-hosted-github-clone-with-gitea.html">Setting Up a Self-Hosted Github Clone with Gitea</a>
            </p>
            <p class="archive">
            <a href="/better-timing-of-guava-traveling-salesperson-problem-code-timing-scripts.html">Better Timing of Guava Traveling Salesperson Problem Code: Timing Scripts</a>
            </p>

        </div>

        <div class="v20"></div>


        <div class="well">

            <h2>March 2017</h2>

            <p class="archive">
            <a href="/fixing-bottlenecks-in-the-guava-traveling-salesperson-problem-code.html">Fixing Bottlenecks in the Guava Traveling Salesperson Problem Code</a>
            </p>
            <p class="archive">
            <a href="/python-vs-perl-n-queens-problem.html">Python vs. Perl: N Queens Problem</a>
            </p>
            <p class="archive">
            <a href="/solving-the-traveling-salesperson-problem-with-java-and-guava.html">Solving the Traveling Salesperson Problem with Java and Guava</a>
            </p>
            <p class="archive">
            <a href="/perl-vs-java-n-queens-problem.html">Perl vs. Java: N Queens Problem</a>
            </p>
            <p class="archive">
            <a href="/enigma-cipher-implementation-part-4-combinatorics.html">Enigma Cipher Implementation: Part 4: Combinatorics</a>
            </p>
            <p class="archive">
            <a href="/enigma-cipher-implementation-part-3-enigma-in-java-without-objects.html">Enigma Cipher Implementation: Part 3: Enigma in Java Without Objects</a>
            </p>
            <p class="archive">
            <a href="/enigma-cipher-implementation-part-2-pseudocode.html">Enigma Cipher Implementation: Part 2: Pseudocode</a>
            </p>
            <p class="archive">
            <a href="/enigma-cipher-implementation-part-1-how-it-works.html">Enigma Cipher Implementation: Part 1: How It Works</a>
            </p>

        </div>

        <div class="v20"></div>



<div class="v100"></div>
        </div>

    </div>



</div>



<script type="text/javascript" src="/theme/js/jquery-1.11.2.js"></script>
<script type="text/javascript" src="/theme/js/bootstrap-3.3.4.js"></script>
<script type="text/javascript" src="/theme/js/d3-3.5.5.js"></script><script type="text/javascript" src="/theme/js/jquery-1.11.2.js"></script>
<script type="text/javascript" src="/theme/js/bootstrap-3.3.4.js"></script>

<footer id="contentinfo" class="body">
<p>&nbsp;</p>
<p>&nbsp;</p>
<center>
	<hr />
</center>
<p>&nbsp;</p>
<p style="text-align: center">
    <span class="fa-stack fa-lg">
        <i class="fa fa-square fa-stack-2x" style="color:#000;"></i>
        <i class="fa fa-terminal fa-stack-1x fa-inverse"></i>
    </span>
    Made from the command line with vim by 
    <a href="http://charlesreid1.com">charlesreid1</a><br />
    with help from <a href="https://getbootstrap.com/">Bootstrap</a> and <a href="http://getpelican.com">Pelican</a>.
</p>

<br />

<p style="text-align: center">
    <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
    <span class="fa-stack fa-lg">
        <i class="fa fa-square fa-stack-2x" style="color:#000;"></i>
        <i class="fa fa-creative-commons fa-stack-1x fa-inverse"></i>
    </span>
    </a>
    <br />
    Licensed under the <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 License</a>.
</p>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=11611748;
var sc_invisible=1;
var sc_security="9fcba820";
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>

<noscript><div class="statcounter"><a title="Web Analytics"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11611748/0/9fcba820/1/" alt="Web
Analytics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</footer><!-- /#contentinfo -->
</body>
</html>